define("msg-overlay/components/abi-flow",["exports","msg-overlay/templates/components/abi-flow","ember-cli-pemberly-tracking/mixins/trackable-component"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=Ember.Component.extend(n.default,{layout:t.default,classNames:["msg-overlay-abi"],tracking:Ember.inject.service("tracking"),init:function(){this._super(),this._pageKey=this.get("isAbiComplete")?"d_flagship3_messaging_overlay_abi_completed.page":"d_flagship3_messaging_overlay_abi.page"},onExposed:function(){this.get("tracking").firePageViewEvent(this._pageKey)}})})),define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-overlay/components/artdeco-hoverable-trigger"),define.alias("artdeco-hoverables/components/artdeco-hovercard-content","msg-overlay/components/artdeco-hovercard-content"),define.alias("ember-cli-artdeco-modal/components/artdeco-modal-content","msg-overlay/components/artdeco-modal-content"),define.alias("ember-cli-artdeco-modal/components/artdeco-modal-footer","msg-overlay/components/artdeco-modal-footer"),define.alias("ember-cli-artdeco-modal/components/artdeco-modal-header","msg-overlay/components/artdeco-modal-header"),define.alias("ember-cli-artdeco-modal/components/artdeco-modal-overlay","msg-overlay/components/artdeco-modal-overlay"),define.alias("ember-cli-artdeco-modal/components/artdeco-modal","msg-overlay/components/artdeco-modal"),define.alias("artdeco-hoverables/components/artdeco-tooltip-content","msg-overlay/components/artdeco-tooltip-content"),define("msg-overlay/components/base-bubble",["exports","ember-cli-pemberly-tracking/mixins/page-view-component","msg-shared/utils/scroll-blocker-helper"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{init:function(){this._super(),this.set("_oldForcedMinimize",this.get("forcedMinimize"))},didInsertElement:function(){this._super.apply(this,arguments),(0,n.default)(this,this.get("eventTarget"))},didUpdateAttrs:function(){this._super.apply(this,arguments)
var e=this.get("forcedMinimize")
this.get("_oldForcedMinimize")!==e&&(e?(this.cachedMinimizedState=this.get("isMinimized"),this._updateMinimizedState(!0)):void 0!==this.cachedMinimizedState&&this.get("isMinimized")&&(this._updateMinimizedState(this.cachedMinimizedState),delete this.cachedMinimizedState)),this.set("_oldForcedMinimize",e)},_fireBubblePVE:function(){var e=this.get("bubbleMinimizeProperty")
this.get(e)||this.get("tracking").firePageViewEvent(this.get("bubblePageKey"))}})})),define("msg-overlay/components/base-search-item",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"li",classNames:["msg-overlay-list-bubble-search__list-item","display-flex","align-items-center","pv2","ph3"]})})),define("msg-overlay/components/conversation-bubble",["exports","ember-cli-pemberly-tracking/utils/uuid","messaging-base/templates/components/i18n-shared","ember-stdlib/utils/is-browser","msg-overlay/components/base-bubble","msg-overlay/templates/components/conversation-bubble","messaging-base/utils/alert-modal","messaging-base/utils/ajax-inmail-click-reply","messaging-base/utils/custom-tracking","ember-cli-pemberly-tracking/mixins/trackable-component","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/constants","messaging-base/utils/promise-proxy","msg-shared/utils/data/persist","shared/utils/identity/profile/lix","shared-ext/utils/document-is-hidden","messaging-base/utils/reregister-impression-tracking","spaniel","shared/utils/lifecycle-utils","msg-shared/utils/data/fetch-conversation-by-recipients","msg-shared/utils/data/generic-collection-helpers","shared/utils/urn-converter"],(function(e,t,n,s,a,i,o,l,r,c,m,u,d,g,p,h,b,v,f,y,_,E){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var C=u.default.OVERLAY_CONVERSATION_BUBBLE_DOM_ID_PREFIX,S=u.default.ACTION_TYPES,M=u.default.CONTROL_NAMES,I=u.default.IMPRESSION_KEYS,R=I.CONVERSATION_DETAIL_IMPRESSION,O=I.DISPLAY_ITEM_TYPE,x=u.default.INMAIL_ACTION,k=x.ACCEPT,T=x.DECLINE,A=u.default.KEYCODES.ESC,N=u.default.LIX,w=N.ENABLE_INMAIL_CLICK_REPLY,P=N.ENABLE_INMAIL_IN_OVERLAY,L=N.ENABLE_OVERLAY_EXPAND_BUTTON,B=N.ENABLE_MESSAGING_COWORKER,D=N.ENABLE_MENTIONS,z=N.ENABLE_THOR_INMAIL_AJAX_CALL,F=N.ENABLE_NONCONNECTION_BANNER,U=u.default.MESSAGE_TYPE,V=u.default.MESSAGING_GDPR_NOTICE_TYPES.MESSAGE_CONTROL,j=u.default.MODULE_KEYS,H=j.OVERLAY_COMPOSE,Y=j.OVERLAY_CONVERSATION_DETAIL,q=u.default.OVERLAY.BUBBLE_ACTIONS,K=q.TOGGLE_JUMBO,G=q.TOGGLE_MINIMIZED,W=u.default.PAGEVIEW_KEYS,X=".msg-form__textarea, .msg-form__contenteditable"
e.default=a.default.extend(c.default,{model:function(){return this.get("conversation")},layout:i.default,classNames:["msg-overlay-conversation-bubble","msg-overlay-conversation-bubble--default-inactive"],classNameBindings:["bubble.isActive:msg-overlay-conversation-bubble--is-active","isMinimized:msg-overlay-conversation-bubble--is-minimized","isJumboSize:msg-overlay-conversation-bubble--jumbo:msg-overlay-conversation-bubble--petite"],attributeBindings:["tabindex"],tabindex:"-1",authenticatedUser:Ember.inject.service("authenticated-user"),a11yNotification:Ember.inject.service("a11y-notification"),i18n:Ember.inject.service("i18n"),lix:Ember.inject.service("lix"),modalDialog:Ember.inject.service("modal-dialog"),routing:Ember.inject.service("-routing"),identityStore:Ember.inject.service("data-layer@identity-store"),store:Ember.inject.service("store"),ls:Ember.inject.service("local-storage"),tracking:Ember.inject.service("tracking"),actionTrackingPrefix:M.OVERLAY_PREFIX,trackingModuleName:Y,conversation:Ember.computed.alias("bubble.conversation").readOnly(),isMinimized:Ember.computed.alias("bubble.isMinimized"),isJumboSize:Ember.computed.alias("bubble.isJumbo"),isInMailCompose:Ember.computed.alias("bubble.isInMailCompose"),isInMail:Ember.computed.and("bubble.conversation.latestEvent.isInMail","enableInmailInOverlay").readOnly(),conversationExpanded:Ember.computed.not("isMinimized").readOnly(),hasQuickReplies:Ember.computed.notEmpty("bubble.conversation.quickReplies").readOnly(),useCustomPlaceholderText:Ember.computed.and("bubble.isNew","bubble.placeholderText").readOnly(),hasBadge:Ember.computed("bubble.hasUnseenMessages","forcedMinimize",(function(){return this.get("bubble.hasUnseenMessages")&&!this.get("forcedMinimize")})).readOnly(),bubblePageKey:W.OVERLAY_CONVO,bubbleMinimizeProperty:"isMinimized",eventTarget:".msg-s-message-list",hasValidRecipients:Ember.computed.notEmpty("messageRecipients"),recipientProfileId:Ember.computed.reads("conversation.participants.firstObject.miniProfile.id"),showInMailQuickReplies:Ember.computed("conversation.latestEvent.isInMail","conversation.latestEvent.from.isLoggedInUser","inMailResponse",(function(){return this.get("conversation.latestEvent.isInMail")&&!this.get("conversation.latestEvent.from.isLoggedInUser")&&!this.get("inMailResponse")})).readOnly(),latestMessageIsInMailFromSelf:Ember.computed.and("conversation.latestEvent.isInMail","conversation.latestEvent.from.isLoggedInUser").readOnly(),blockedByDecline:Ember.computed("conversation.latestEvent","isInMailCompose",(function(){return this.get("conversation.latestEvent.isInMailDecline")&&!this.get("conversation.latestEvent.from.isLoggedInUser")&&!this.get("isInMailCompose")})).readOnly(),isExistingConversation:Ember.computed.not("bubble.isNew").readOnly(),showMessageList:Ember.computed("conversation.id","isExistingConversation","noSearchResults",(function(){return this.get("isExistingConversation")||this.get("conversation.id")&&!this.get("noSearchResults")})).readOnly(),presenceStatus:Ember.computed.reads("conversation.participants.firstObject.miniProfile.presence"),showPresenceUI:Ember.computed.and("isExistingConversation","conversation.hasPresence").readOnly(),messageRecipients:Ember.computed.alias("bubble.messageRecipients").readOnly(),firstRecipient:Ember.computed.readOnly("messageRecipients.0"),showExpandedMsgForm:!1,showDefaultSendForm:Ember.computed.not("showExpandedMsgForm").readOnly(),isEnterToSendEnabled:Ember.computed.and("messagingSettings.pressEnterToSend","showDefaultSendForm").readOnly(),showRenameConversationForm:!1,isConvoDetailModalOpen:!1,isLeaveConvoModalOpen:!1,showCoworkerLabel:Ember.computed.and("enableCoworkerLabel","conversation.withNonConnectedCoworker").readOnly(),useInmailClickReply:Ember.computed("conversation.latestEvent",(function(){var e=this.get("conversation.latestEvent")
return this.get("enableInmailInOverlay")&&this.get("enableInmailClickReply")&&(e.get("isRecruiterInMail")||e.get("isError")&&e.get("inMailRecruiterReplyAction"))})),a11yText:Ember.computed("bubble.isNew","conversation.isManyToManyConvo",(function(){var e=this.get("conversation"),t=this.get("bubble.isNew"),n=e&&Ember.get(e,"isManyToManyConvo"),s={},a=t?"_new":""
if(!t)if(n){var i=e.get("name")
s={key:i||"i18n_participant_familiar",param:i?"":e.get("latestParticipantNames")}}else s={key:"i18n_participants_full_names",param:e.get("participantNames")}
return{openConvo:"a11y_open_convo"+a,hideConvo:"a11y_hide_convo"+a,closeConvo:"a11y_close_convo"+a,attachImage:"a11y_attach_image"+a,attachFile:"a11y_attach_file"+a,compose:"a11y_compose"+a,names:s}})),init:function(){this._super.apply(this,arguments)
var e=this.get("lix")
b.default.call(this,this.get("routing.router"),this.registerImpressionTracking.bind(this))
var n=this.getWithDefault("conversation.id",(0,t.default)())
this.setProperties({canShowExpandButton:e.getTreatmentIsEnabled(L),enableInmailInOverlay:e.getTreatmentIsEnabled(P),enableInmailClickReply:e.getTreatmentIsEnabled(w),enableCoworkerLabel:e.getTreatmentIsEnabled(B),enableNonConnectionBanner:e.getTreatmentIsEnabled(F),enableMentions:e.getTreatmentIsEnabled(D),enableInmailAjaxCall:e.getTreatmentIsEnabled(z),useM3P2:e.getTreatmentIsEnabled(p.LIX_KEY_PROFILE_M3_P2)}),this.setProperties({sender:this.get("authenticatedUser.miniProfile"),_initialConversation:this.get("conversation"),isJumboSize:this.get("bubble.isInMail")||this.get("isInMail")||this.get("isInMailCompose"),gdprNoticeType:[V],elementId:""+C+n})},a11yNotify:function(e){var t=this.get("i18n").getMessageRenderer(n.default,e)
this.get("a11yNotification").setTextInLiveRegion(t([]))},onImpression:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(this.get("bubble.isNew")||this.get("closedNewConversation"))&&this.get("tracking").fireTrackingPayload(R,{moduleKey:H,participantUrns:[],conversation:{objectUrn:"",trackingId:(0,m.generateTrackingId)()},displayItem:{trackingObject:{objectUrn:"",trackingId:(0,m.generateTrackingId)()},type:O.MESSAGE_COMPOSE,visibleTime:e.visibleTime,duration:e.duration}})},_handleOutsideMouseDown:function(e){this.element&&!this.element.contains(e.target)&&this._updateActiveState(!1)},didInsertElement:function(){var e=this
this._super.apply(this,arguments),(0,h.default)()?this.get("isMinimized")||this.get("increaseNumPendingConvoPVEvents")():this._fireBubblePVE()
var t=this.get("bubble.message")
if(t&&!this.get("enableMentions")){var n=this.element.querySelector(X)
if(n.value=t,s.default){var a=document.createEvent("Event")
a.initEvent("change",!0,!1),n.dispatchEvent(a)}}var i=this.get("messageRecipients.length")||this.get("conversation.participants.length"),o=void 0
i?(this.get("bubble.isOpenedFromList")||this.get("bubble.isOpenedFromMsgButton"))&&(this.get("bubble.isNew")&&this._setConvoHistoryWithRecipients(this.get("messageRecipients")),(o=this.element.querySelector(X))&&0!==o.offsetHeight||(o=this.element,this._updateActiveState(!0),i&&this.markConversationAsRead())):o=this.element.querySelector(".msg-connections-lookup__search-field"),(0,v.scheduleWork)((function(){(0,f.isDead)(e)||o&&o.focus()})),this.autoSend&&this.send("submitMessage",this.autoSend),s.default&&this.addEventListener(document,"mousedown",this._handleOutsideMouseDown.bind(this))},_updateMinimizedState:function(e){this.set("isMinimized",e)},_updateActiveState:function(e){Ember.set(this.get("bubble"),"isActive",e)},_makeInmailAjaxCall:function(e){var t=this,n=this.get("store"),s=(0,l.setupInmailAjaxCall)(n,e)
return(0,l.ajaxInmailClickReply)(this,n,s).then((function(){return t.a11yNotify("i18n_a11y_send_successful")})).catch((function(e){throw t.a11yNotify("i18n_a11y_send_failure"),e}))},_replyToInMail:function(e){var t=this,n=this.get("store"),s=this.get("conversation.isInMail"),a=this.get("tracking")
return e.messageReplyType=s?U.INMAIL_REPLY:U.M2M,e.receivedMessage=this.newestMessage,e.senderID=this.get("authenticatedUser.miniProfile.id"),this.get("useInmailClickReply")&&""!==e.message&&a.fireInteractionEvent(M.INMAIL_CLICK_TO_REPLY.SEND_CUSTOM_MESSAGE),this.get("conversation.latestEvent.isInMail")&&(e.inMailResponseAction=e.inMailResponseAction||this.get("inMailResponseAction")||k),e.conversation=this.get("conversation"),r.default.fireDetailActionEvent(a,e.conversation,S.SEND_MESSAGE,M.CONVERSATION.SEND),this.get("enableInmailAjaxCall")&&this.get("useInmailClickReply")&&e.isInMailClickRepliesOpen?this._makeInmailAjaxCall(e):(0,g.saveMessage)(n,e.conversation.get("latestParticipants").mapBy("miniProfile.id"),e.conversation,e).then((function(){t.a11yNotify("i18n_a11y_send_successful")})).catch((function(e){if(t.a11yNotify("i18n_a11y_send_failure"),t.get("useInmailClickReply"))throw t.set("conversation.latestEvent.hideMessageEvent",!0),e}))},keyDown:function(e){e.keyCode===A&&this.send("closeBubble")},_setConvoHistoryWithRecipients:function(e){var t=this
if(this.set("bubble.conversation",this._initialConversation),!e.length)return Ember.RSVP.reject()
var n=this.get("store")
return(0,y.default)(n,e).then((function(e){if(e){var s=(0,_.fetchConversationEvents)(n,e.get("id"))
Ember.setProperties(t.get("bubble"),{conversation:e,fetchedEventsProxy:(0,d.default)(s)})}t.set("showExpandedMsgForm",!e),t.set("noSearchResults",!1)}))},_focusMessageInput:function(){var e=this
if(!s.default||!window.getSelection().toString()){var t=this.element.querySelector(X)
t&&t.offsetHeight>0?(0,v.scheduleWork)((function(){(0,f.isDead)(e)||t.focus()})):this._updateActiveState(!0)}},_submitMessage:function(e){var t=this
if(this.get("enableInmailClickReply")&&this.get("conversation.latestEvent.isInMail"))return this._replyToInMail(e)
if(this.get("bubble").isNew){this.set("showExpandedMsgForm",!1)
var n=this.get("messageRecipients")
if(!n)return
e.senderID=this.get("sender.id"),e.recipientIDs=n.map((function(e){return(0,E.fromUrn)(Ember.get(e,"entityUrn")).id}))}if(this.get("isInMailCompose")){if(!e.subject)return
e.messageReplyType=U.INMAIL}return this.runTask((function(){return t._focusMessageInput()})),this.set("isInMailCompose",!1),this.get("submitMessage")(e)},actions:{beforeUpload:function(e){var t=e.attachment,n=e.isPasteEvent,s=M.OVERLAY,a=s.FILE_UPLOAD,i=s.IMAGE_UPLOAD,o=s.IMAGE_PASTE,l=void 0
l=t.isImage?n?o:i:a,this.get("tracking").fireInteractionEvent(l)},msgComposeFocusIn:function(){this._updateActiveState(!0),this.markConversationAsRead()},closeBubble:function(){var e=this.get("closeBubble")
if(e=e?e.bind(this,this.get("conversation")):function(){},this.get("bubble.hasDraft")){var t={confirmDiscard:e};(0,o.showDiscardMessageModal)(this.get("modalDialog"),t)}else this.set("closedNewConversation",this.get("bubble.isNew")),e()},updateFormState:function(e){this.get("updateDraftState")(!!e)},overrideComposePlaceholder:function(e){this.set("overrideComposePlaceholder",e)},onClickReplyAccept:function(e){return e.inMailResponseAction=k,this._replyToInMail(e)},onClickReplyDecline:function(e){return e.inMailResponseAction=T,this._replyToInMail(e)},handleGIFSend:function(e){return this._submitMessage({gif:e,message:"",messageReplyType:U.M2M})},chooseInMailResponse:function(e,t){this.setProperties({inMailResponse:e.toString(),inMailResponseAction:t,forceShowComposeForm:!0,overrideComposePlaceholder:void 0}),this.element.querySelector(X)&&this._focusMessageInput()},validateForm:function(e,t){return!this.get("bubble.isNew")||this.get("messageRecipients.length")&&Ember.isPresent(e)&&(!this.get("isInMailCompose")||Ember.isPresent(t))},resendMessage:function(e){this.sendAction("resendMessage",e)},submitMessage:function(e){return this._submitMessage(e)},replyToInMail:function(e){return this._replyToInMail(e)},presenceCustomTracking:function(e){r.default.firePresenceDecorationImpression(this.get("tracking"),this.get("conversation"),e,Y)},didValidateMessage:function(e){this.set("isMessageFormValid",e)},toggleJumboSize:function(){if(this.get("resizeBubble")(K),this.toggleProperty("isJumboSize"),this.get("isJumboSize")&&this.get("isInMail")){var e=this.element.querySelector(".msg-inmail-quick-replies__options")
e&&(e.style.left="0",this.element.querySelector(".msg-inmail-quick-replies__options-carousel-nav-prev").disabled=!0,this.element.querySelector(".msg-inmail-quick-replies__options-carousel-nav-next").disabled=!1)}this.get("conversation.id")&&this.get("syncCachedConvos")()},toggleMinimize:function(){var e=this
this.get("resizeBubble")(G),this.toggleProperty("isMinimized")
var t=this.get("isMinimized")
this.get("conversation.id")&&this.get("syncCachedConvos")(),t||this.runTask((function(){e.get("bubble.hasUnseenMessages")&&e.markConversationAsRead()
var t=e.element.querySelector(".msg-s-message-list")
t&&(t.scrollTop=t.scrollHeight),e._focusMessageInput()})),this._fireBubblePVE(),this._updateActiveState(!t)},focusMessageInput:function(){this._focusMessageInput()},resetSearch:function(){this.set("noSearchResults",!1)},performedSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0===Ember.get(e.searchResults,"length")
this.setProperties({noSearchResults:t,recipientSearchTerm:e.searchTerm,hideComposeForm:!0}),t&&this.set("showExpandedMsgForm",!1)},recipientsChanged:function(e){this.set("showExpandedMsgForm",!1),this.set("bubble.messageRecipients",e),this._setConvoHistoryWithRecipients(e)},dropdownOpen:function(){},dropdownClose:function(){this.set("hideComposeForm",!1)},saveEnterToSend:function(e){var t=this.get("useM3P2"),n=this.get("identityStore"),s=this.get("store"),a=this.get("ls"),i=this.get("authenticatedUser.miniProfile.id"),o=this.get("messagingSettings")
return(0,g.saveEnterToSendSetting)(t,n,s,a,i,o,e)},toggleShowRenameConversation:function(){this.get("conversation.isManyToManyConvo")&&this.toggleProperty("showRenameConversationForm")},hideRenameConversationForm:function(){this.set("showRenameConversationForm",!1)},saveConversationName:function(e){this.set("showRenameConversationForm",!1),this.sendAction("saveConversationName",e)}}})})),define.alias("ember-semaphore/components/ember-semaphore","msg-overlay/components/ember-semaphore"),define.alias("ember-wormhole/components/ember-wormhole","msg-overlay/components/ember-wormhole"),define.alias("ember-line-clamp/components/line-clamp","msg-overlay/components/line-clamp"),define.alias("ember-cli-pemberly-artdeco/components/linkedin-logo","msg-overlay/components/linkedin-logo"),define("msg-overlay/components/list-bubble-item",["exports","msg-overlay/templates/components/list-bubble-item","msg-shared/utils/constants","messaging-base/utils/reregister-impression-tracking","ember-cli-pemberly-tracking/mixins/trackable-component","ember-cli-pemberly-tracking/utils/tracking"],(function(e,t,n,s,a,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var o=n.default.CONTROL_NAMES.OVERLAY,l=n.default.IMPRESSION_KEYS.CONVERSATION,r=n.default.MODULE_KEYS.OVERLAY_CONVERSATION_LIST,c=n.default.KEYCODES,m=c.ENTER,u=c.SPACEBAR,d=n.default.OVERLAY.EVENT_FETCH_ON_HOVER_DEBOUNCE
e.default=Ember.Component.extend(a.default,{layout:t.default,tagName:"li",classNames:["msg-conversations-container__convo-item","msg-overlay-list-bubble__convo-item"],attributeBindings:["tabindex","role"],tabindex:"0",role:"button",controlName:o.VIEW_MESSAGE,lix:Ember.inject.service("lix"),routing:Ember.inject.service("-routing"),isConvoUnread:Ember.computed.not("conversation.read").readOnly(),smallContentWidth:Ember.computed.or("conversation.muted","isConvoUnread").readOnly(),init:function(){this._super(),this.hoverDebounce=null,s.default.call(this,this.get("routing.router"),this.registerImpressionTracking.bind(this))},onImpression:function(){this.get("tracking").fireTrackingPayload(l,{moduleKey:r,conversations:[{objectUrn:this.get("conversation.backendUrn"),trackingId:(0,i.generateTrackingId)()}],participantPresenceStatuses:this.get("conversation.participantPresenceStatuses")})},click:function(){this.get("conversation.isSpinMail")||Ember.tryInvoke(this,"openBubble",[this.get("conversation")])},mouseEnter:function(){this.hoverDebounce=this.debounceTask("findConversationEvents",d)},mouseLeave:function(){Ember.run.cancel(this.hoverDebounce)},keyDown:function(e){e.keyCode!==m&&e.keyCode!==u||(e.preventDefault(),this.get("tracking").fireInteractionEvent(o.VIEW_MESSAGE),this.get("openBubble")(this.get("conversation")))}})})),define("msg-overlay/components/list-bubble-search",["exports","msg-overlay/templates/components/list-bubble-search","ember-cli-pemberly-tracking/mixins/trackable-component","msg-shared/utils/scroll-blocker-helper","shared/mixins/infinite-scroll","messaging-base/utils/fetch-typeahead-results","messaging-base/utils/search-history-helper","msg-shared/utils/constants","spaniel","msg-shared/utils/data/generic-collection-helpers","shared/utils/lifecycle-utils"],(function(e,t,n,s,a,i,o,l,r,c,m){"use strict"
function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0})
var d=l.default.KEYCODES,g=l.default.SEARCH_HISTORY_TYPES,p=l.default.PAGEVIEW_KEYS,h=l.default.CONTROL_INTERACTION_KEYS,b=".msg-overlay-list-bubble-search__search-typeahead-input",v=".msg-overlay-list-bubble-search-content",f=".msg-overlay-list-bubble-search__list-item",y={CONNECTION:{RESULT_LIST:"matchedConnections",COMPLETED_STATE:"connectionSearchPerformed",RESULT_LOAD_TRACKING_EVENT:p.OVERLAY_SEARCH_CONNECTION_LOAD},CONVERSATION:{RESULT_LIST:"matchedConversations",COMPLETED_STATE:"contentSearchPerformed",RESULT_LOAD_TRACKING_EVENT:p.OVERLAY_SEARCH_CONTENT_LOAD}}
e.default=Ember.Component.extend(n.default,a.default,{layout:t.default,store:Ember.inject.service("store"),lix:Ember.inject.service("lix"),tracking:Ember.inject.service("tracking"),classNames:["msg-overlay-list-bubble-search"],highlightedItemIndex:-1,searchField:void 0,inputHasFocus:!1,connectionSearchPerformed:!1,contentSearchPerformed:!1,shouldShowClearConfirmBtn:!1,eventTarget:v,scrollingElementSelector:v,triggerOnInsert:!1,hasMoreContentSearchResults:!1,shouldShowSearchResults:Ember.computed("inputHasFocus","connectionSearchPerformed","contentSearchPerformed",(function(){return this.get("inputHasFocus")&&(this.get("connectionSearchPerformed")||this.get("contentSearchPerformed"))})).readOnly(),displayedConnections:Ember.computed("matchedConnections",(function(){return this.get("matchedConnections").slice(0,3)})).readOnly(),shouldShowNoResultView:Ember.computed("displayedResultsLength","connectionSearchPerformed","contentSearchPerformed",(function(){return 0===this.get("displayedResultsLength")&&this.get("connectionSearchPerformed")&&this.get("contentSearchPerformed")})).readOnly(),displayedResultsLength:Ember.computed("displayedConnections","matchedConversations",(function(){return this.get("displayedConnections.length")+this.get("matchedConversations.length")})).readOnly(),listItemCount:Ember.computed("shouldShowSearchResults","displayedResultsLength","searchHistories",(function(){return this.get("shouldShowSearchResults")?this.get("displayedResultsLength"):this.get("searchHistories.length")})).readOnly(),highlightedConversationResultIndex:Ember.computed("highlightedItemIndex","displayedConnections",(function(){return this.get("highlightedItemIndex")-this.get("displayedConnections.length")})).readOnly(),init:function(){this._super(),this.matchedConnections=[],this.matchedConversations=[],this._loadSearchHistory()},didInsertElement:function(){var e=this
this._super.apply(this,arguments),(0,r.scheduleWork)((function(){(0,m.isAlive)(e)&&e.setProperties({searchField:e.element.querySelector(b),scrollSection:e.element.querySelector(v)})})),this.get("tracking").firePageViewEvent(p.OVERLAY_SEARCH),(0,s.default)(this,v)},_performSearch:function(e){var t=this,n=(new Date).getTime()
this.lastRequestTime=n
var s=this.get("store"),a=[(0,i.default)(s,e,this.get("elementId")).then((function(e){return t._handleSearchResults(y.CONNECTION,e,n)}))],o={q:"search",keywords:e,createdBefore:Date.now()}
this.resetInfiniteScroll(),a.push((0,c.queryConversations)(s,o).then((function(e){return t._handleSearchResults(y.CONVERSATION,e.get("elements").toArray(),n)}))),Ember.RSVP.all(a).then((function(){0===t.get("displayedResultsLength")&&t.get("tracking").firePageViewEvent(p.OVERLAY_SEARCH_NO_RESULT)}))},_handleSearchTermChange:function(e){var t=e?e.trim():"",n=t.length>0
this.set("highlightedItemIndex",-1),n?this.debounceTask("_performSearch",t,150):this._clearSearchResults()},_handleSearchResults:function(e,t,n){var s
return n!==this.lastRequestTime||0===this.get("searchTerm.length")?Ember.RSVP.reject():(this.setProperties((u(s={},e.COMPLETED_STATE,!0),u(s,e.RESULT_LIST,t),u(s,"hasMoreContentSearchResults",e===y.CONVERSATION&&t.length>0),s)),t.length>0&&this.get("tracking").firePageViewEvent(e.RESULT_LOAD_TRACKING_EVENT),Ember.RSVP.resolve())},_clearSearchResults:function(){this.setProperties({connectionSearchPerformed:!1,matchedConnections:[],contentSearchPerformed:!1,matchedConversations:[],shouldShowClearConfirmBtn:!1})},_clearInputField:function(){this.set("searchTerm",""),this._handleSearchTermChange("")},_moveSelectedItem:function(e){var t=this,n=this.get("listItemCount")
if(0!==n){var s=this.get("highlightedItemIndex"),a=void 0
a=-1===s?1===e?0:n-1:(s+e+n)%n,this.set("highlightedItemIndex",a)
var i=this.get("scrollSection");(0,r.scheduleWork)((function(){if(!(0,m.isDead)(t))if(0===a)i.scrollTop=0
else{var e=t.element.querySelectorAll(f)[a]
if(e){var n=e.offsetTop,s=n+e.offsetHeight
s>i.offsetHeight+i.scrollTop?i.scrollTop=s-i.offsetHeight:n<i.scrollTop&&(i.scrollTop=n)}}}))}},_openConnectionSearchResult:function(e){var t=this
this._clearInputField(),this.get("openNewConversation")({recipients:[e]}),this.get("tracking").fireInteractionEvent(h.SELECT_CONNECTION_SEARCH_RESULT),(0,o.saveProfileSearchHistory)(e).then((function(){return t._loadSearchHistory()}))},_openContentSearchResult:function(e){var t=this,n=this.get("searchTerm")
this._clearInputField(),this.openBubble(e),this.get("tracking").fireInteractionEvent(h.SELECT_CONTENT_SEARCH_RESULT),(0,o.saveQuerySearchHistory)(n).then((function(){return t._loadSearchHistory()}))},_selectProfileSearchHistory:function(e){this.get("openNewConversation")({recipients:[e]}),this.get("tracking").fireInteractionEvent(h.SELECT_SEARCH_HISTORY_MEMBER),(0,o.saveProfileSearchHistory)(e).then(this._loadSearchHistory.bind(this))},_selectKeywordSearchHistory:function(e){var t=this
this.set("searchTerm",e),this._handleSearchTermChange(e),(0,o.saveQuerySearchHistory)(e).then((function(){return t._loadSearchHistory()})),this.get("tracking").fireInteractionEvent(h.SELECT_SEARCH_HISTORY_CONTENT)},keyDown:function(e){switch(e.keyCode){case d.TAB:this.get("searchField").blur(),e.preventDefault()
break
case d.UP_ARROW:this._moveSelectedItem(-1),e.preventDefault()
break
case d.DOWN_ARROW:this._moveSelectedItem(1),e.preventDefault()
break
case d.ESC:this._clearInputField()}},_loadSearchHistory:function(){var e=this;(0,o.fetchSearchHistory)(this.get("store")).then((function(t){e.set("searchHistories",t)}))},infiniteScroll:function(){var e=this
if(!this.get("hasMoreContentSearchResults"))return Ember.RSVP.resolve(!1)
var t=this.get("matchedConversations"),n=Math.min.apply(Math,(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t]
return n}return Array.from(e)})(t.mapBy("latestEvent.createdAt"))),s={q:"search",keywords:this.get("searchTerm"),createdBefore:n-1}
return(0,c.queryConversations)(this.get("store"),s).then((function(n){var s=n.get("elements").toArray(),a=s.length>0
return e.setProperties({matchedConversations:t.concat(s),hasMoreContentSearchResults:a}),Ember.RSVP.resolve(a)}))},actions:{onInputFocusIn:function(){var e=this
this.set("inputHasFocus",!0),this.get("displayDefaultConversationList")(!1),(0,r.scheduleWork)((function(){(0,m.isAlive)(e)&&e.set("scrollSection.scrollTop",0)})),this.get("tracking").fireInteractionEvent(h.FOCUS_SEARCH_BOX)},onInputFocusOut:function(){this.setProperties({inputHasFocus:!1,shouldShowClearConfirmBtn:!1}),this.get("displayDefaultConversationList")(!0)},onInputEnterKeyRelease:function(){var e=this,t=this.get("highlightedItemIndex")
if(-1!==t)if(this.get("shouldShowSearchResults")){if(t<this.get("displayedConnections.length")){var n=this.get("displayedConnections")[t]
this._openConnectionSearchResult(n.get("miniProfile"))}else{var s=this.get("matchedConversations")[this.get("highlightedConversationResultIndex")]
this._openContentSearchResult(s)}}else{var a=this.get("searchHistories").toArray()[t],i=a.get("searchType")
if(i===g.PROFILE){var l=a.get("historyInfo.profile")
this._selectProfileSearchHistory(l)}else if(i===g.QUERY){var r=a.get("historyInfo.parameters.firstObject.value")
this._selectKeywordSearchHistory(r)}}else{var c=this.get("searchTerm")
c&&(0,o.saveQuerySearchHistory)(c).then((function(){return e._loadSearchHistory()}))}},onClearButtonClick:function(){this._clearInputField(),this.get("tracking").fireInteractionEvent(h.CANCEL_SEARCH)},onConnectionSearchResultSelect:function(e){this._openConnectionSearchResult(e)},onContentSearchResultSelect:function(e){this._openContentSearchResult(e)},onInputChange:function(){this._handleSearchTermChange(this.get("searchTerm"))},onListItemMouseMove:function(e,t,n){this.lastX===n.screenX&&this.lastY===n.screenY||(this.set("highlightedItemIndex",t?e+this.get("displayedConnections.length"):e),this.lastX=n.screenX,this.lastY=n.screenY)},onProfileSearchHistoryClick:function(e){this._selectProfileSearchHistory(e)},onKeywordSearchHistoryClick:function(e){this._selectKeywordSearchHistory(e)},onSearchHistoryClearButtonClick:function(){this.set("shouldShowClearConfirmBtn",!0)},onSearchHistoryClearConfirmButtonClick:function(){this.setProperties({searchHistories:[],shouldShowClearConfirmBtn:!1}),(0,o.clearSearchHistory)(),this.get("tracking").fireInteractionEvent(h.CLEAR_SEARCH_HISTORY)},noOp:function(){}}})})),define("msg-overlay/components/list-bubble",["exports","msg-overlay/components/base-bubble","msg-overlay/templates/components/list-bubble","shared/mixins/infinite-scroll","msg-shared/utils/constants","msg-overlay/utils/suggested-recipients"],(function(e,t,n,s,a,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var o=new Date,l=o.setMonth(o.getMonth()-2),r=a.default.LIX,c=r.ENABLE_INMAIL_IN_OVERLAY,m=r.ENABLE_REALTIME_CONNECTION_STATUS,u=r.ENABLE_OVERLAY_BOLD_UNREAD_CONVO,d=a.default.OVERLAY,g=d.QUALITY_MEMBER_CONNECTIONS_THRESHOLD,p=d.CONTEXT_TYPES,h=p.FEED_CONTEXT,b=p.JOB_CONTEXT,v=p.COMPANY_CONTEXT,f=p.PROFILE_CONTEXT
e.default=t.default.extend(s.default,{layout:n.default,authenticatedUser:Ember.inject.service("authenticated-user"),lix:Ember.inject.service("lix"),tracking:Ember.inject.service("tracking"),msgOverlay:Ember.inject.service("shared-ext@messaging-overlay"),realtimeAPI:Ember.inject.service("shared@realtime-api"),store:Ember.inject.service("store"),classNames:["msg-overlay-list-bubble"],classNameBindings:["isMinimized:msg-overlay-list-bubble--is-minimized"],isMinimized:Ember.computed.alias("msgOverlay.listBubbleIsMinimized").readOnly(),listExpanded:Ember.computed.not("msgOverlay.listBubbleIsMinimized").readOnly(),shouldRenderContent:Ember.computed("listExpanded",(function(){return this.get("listExpanded")})),showRecentLabel:Ember.computed.or("suggestedRecipients","showInmailBanner").readOnly(),bubblePageKey:"d_flagship3_messaging_overlay_connections.page",bubbleMinimizeProperty:"isMinimized",eventTarget:".msg-overlay-list-bubble__content",scrollingElementSelector:".msg-overlay-list-bubble__content",triggerOnInsert:!1,showDefaultConversationList:!0,shouldAlertUser:Ember.computed("unseenMsgCount","forcedMinimize",(function(){return this.get("unseenMsgCount")&&!this.get("forcedMinimize")})).readOnly(),showUnseenCount:Ember.computed.and("unseenMsgCount","hasBadge","isMinimized").readOnly(),recentUnreadOpportunities:Ember.computed.filter("unreadOpportunities",(function(e){return e.get("latestEvent.createdAt")>=l})),filteredUnreadOpportunities:Ember.computed.filterBy("recentUnreadOpportunities","read",!1),memberConnections:null,showInmailBanner:Ember.computed("filteredUnreadOpportunities",(function(){return!this.isInMailLixEnabled&&this.get("filteredUnreadOpportunities").length})).readOnly(),firstUnreadInmail:Ember.computed.reads("filteredUnreadOpportunities.firstObject"),hasBadge:Ember.computed.or("shouldAlertUser","realtimeMsgNotAutoOpened").readOnly(),showRemainingSuggestions:!1,hasConversations:Ember.computed.notEmpty("conversations").readOnly(),hasNoConversations:Ember.computed.not("hasConversations").readOnly(),isFeedContext:Ember.computed.equal("contextType",h).readOnly(),isJobContext:Ember.computed.equal("contextType",b).readOnly(),isCompanyContext:Ember.computed.equal("contextType",v).readOnly(),isProfileContext:Ember.computed.equal("contextType",f).readOnly(),slicedSuggestedRecipients:Ember.computed("suggestedRecipients.[]","showRemainingSuggestions",(function(){var e=this.getWithDefault("suggestedRecipients",[])
return this.get("showRemainingSuggestions")?e:e.slice(0,2)})).readOnly(),hasMoreSuggestedRecipients:Ember.computed.gt("suggestedRecipients.length",2).readOnly(),hasStrongNetwork:Ember.computed.gte("numConnections",g).readOnly(),hasWeakNetwork:Ember.computed.not("hasStrongNetwork").readOnly(),showNoviceState:Ember.computed.and("hasNoConversations","hasStrongNetwork").readOnly(),showAbiFlow:Ember.computed.and("hasNoConversations","hasWeakNetwork").readOnly(),realtimeStatusClassName:Ember.computed("realtimeAPI.hasActiveConnection",(function(){return this.get("realtimeAPI.hasActiveConnection")?"msg-overlay-bubble-header__realtime-indicator--online":"msg-overlay-bubble-header__realtime-indicator--offline"})).readOnly(),init:function(){this._super()
var e=this.get("lix")
this.setProperties({isInMailLixEnabled:e.getTreatmentIsEnabled(c),enableRealtimeConnectionStatus:e.getTreatmentIsEnabled(m),enableBoldUnreadStyle:e.getTreatmentIsEnabled(u)})},didInsertElement:function(){var e=this
this._super.apply(this,arguments),Ember.run.schedule("afterRender",(function(){return e.set("scrollingElement",e.get("element").querySelector(".msg-overlay-list-bubble__content"))}))},infiniteScroll:function(){return this.get("loadMore")()},onExpand:function(){this.get("showInmailBanner")&&this.get("tracking").firePageViewEvent("d_flagship3_messaging_overlay_inmail_banner.page")},didUpdateAttrs:function(){this._super.apply(this,arguments)
var e=this.get("contextActor")
e!==this.get("_oldContextActor")&&this.set("showRemainingSuggestions",!1),this.set("_oldContextActor",e)},_updateMinimizedState:function(e){var t=this
this.runTask((function(){return t.get("msgOverlay").updateListBubbleMinimizeState(e)}))},actions:{createNewConvoPVE:function(){this.get("newConversation")()},displayDefaultConversationList:function(e){this.set("showDefaultConversationList",e)},toggleRemainingSuggestedRecipients:function(){this.toggleProperty("showRemainingSuggestions")},settingsBtnStopEvtPropagation:function(e){e&&e.stopPropagation()},toggleMinimize:function(){this.set("showRemainingSuggestions",!1),this.get("isMinimized")&&(this.markAllAsSeen(),this.set("shouldRenderContent",!0)),this.get("msgOverlay").toggleListBubbleMinimized(),this._fireBubblePVE(),this.onExpand()},messageRecommendation:function(e){this.get("newConversation")({recipients:e.get("recipientProfile"),isContextualReco:!0,contextualTrackingInfo:{recommendationTrackingId:e.get("trackingId"),showRemainingSuggestions:this.get("showRemainingSuggestions")}}),(0,i.fireRecommendationActionEvent)({trackingService:this.get("tracking"),recommendationTrackingId:e.get("trackingId"),contextType:this.get("contextType"),showRemainingSuggestions:this.get("showRemainingSuggestions"),actionCategory:"EXPAND"})}}})})),define("msg-overlay/components/messaging-overlay-container",["exports","msg-overlay/templates/components/messaging-overlay-container","ember-stdlib/utils/is-browser","shared/utils/csrf-ajax","shared-ext/utils/document-is-hidden","messaging-base/utils/notification-sounds","msg-shared/utils/constants","msg-shared/utils/data/persist","messaging-base/utils/promise-proxy","messaging-base/utils/focus-defer","messaging-base/utils/send-typing-indicator","messaging-base/mixins/realtime-messages","messaging-base/mixins/realtime-component","messaging-base/utils/custom-tracking","msg-shared/utils/data/generic-collection-helpers","msg-overlay/utils/suggested-recipients","messaging-base/utils/conversation-actions","shared/utils/lifecycle-utils","shared/utils/identity/profile/lix","data-layer/requests/identity/profile/messaging-settings"],(function(e,t,n,s,a,i,o,l,r,c,m,u,d,g,p,h,b,v,f,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var _=o.default.OVERLAY_CONVERSATION_BUBBLE_DOM_ID_PREFIX,E=o.default.ACTION_TYPES.SEND_MESSAGE,C=o.default.CONTROL_NAMES.OVERLAY,S=o.default.LIX,M=S.ENABLE_OVERLAY_OPEN_CONVERSATIONS_ON_LEFT,I=S.OVERLAY_RELOAD_ON_RECONNECT_JITTER,R=S.ENABLE_INMAIL_IN_OVERLAY,O=S.API_KEY_VERSION,x=o.default.MAILBOX_FOLDER,k=o.default.MESSAGE_COLLECTION_TYPES,T=o.default.MESSAGE_RECORD_TYPES,A=o.default.MESSAGE_TYPE,N=o.default.MODULE_KEYS,w=N.OVERLAY_COMPOSE,P=N.OVERLAY_CONVERSATION_DETAIL,L=o.default.OVERLAY,B=L.QUALITY_MEMBER_CONNECTIONS_THRESHOLD,D=L.BUBBLE_ACTIONS,z=D.CREATE_BUBBLE,F=D.TOGGLE_MINIMIZED,U=D.TOGGLE_JUMBO,V=o.default.PAGEVIEW_KEYS,j=o.default.SEARCH_FILTER,H=l.default.createAndSaveConversation,Y=l.default.saveMessage,q=l.default.retrySaveMessage,K=l.default.markConversationAsRead,G=h.default.getContextType,W=h.default.getContextActor,X=h.default.getContextEntityUrn,J=h.default.fetchContextualData,Q=h.default.normalizeSuggestionsResponse,Z=h.default.fireRecommendationActionEvent,$=/^messaging/,ee=/^profile/
e.default=Ember.Component.extend(d.default,u.default,{layout:t.default,tagName:"aside",elementId:"msg-overlay",classNames:["msg-overlay-container"],attributeBindings:["tabindex"],tabindex:-1,i18n:Ember.inject.service("i18n"),authenticatedUser:Ember.inject.service("authenticated-user"),store:Ember.inject.service("store"),identityStore:Ember.inject.service("data-layer@identity-store"),lix:Ember.inject.service("lix"),routing:Ember.inject.service("-routing"),tracking:Ember.inject.service("tracking"),legoTracking:Ember.inject.service("lego-tracking"),msgOverlay:Ember.inject.service("shared-ext@messaging-overlay"),heathrow:Ember.inject.service("heathrow"),localStorage:Ember.inject.service("local-storage"),documentTitle:Ember.inject.service("shared-ext@document-title"),firstMessage:Ember.inject.service("shared-ext@first-message"),scheduler:Ember.inject.service("scheduler"),_allConversations:Ember.computed("_allConversationsCollection.nonDeletedElements","_allConvosFromFindAll",(function(){return this.isInMailLixEnabled?this.get("_allConvosFromFindAll"):this.get("_allConversationsCollection.nonDeletedElements")})).readOnly(),filteredConversations:Ember.computed.filter("_allConversations",(function(e){return!e.get("archived")&&!e.get("blocked")})),sortedConversations:Ember.computed.sort("filteredConversations","sortByCreated"),unreadInmails:Ember.computed.reads("_unreadInmailsCollection.nonDeletedElements"),inmailBubbles:Ember.computed.filterBy("openBubbles","isInMail",!0).readOnly(),listBubbleIsMinimized:Ember.computed.readOnly("msgOverlay.listBubbleIsMinimized"),hasMoreConversations:Ember.computed.notEmpty("sortedConversations"),isUserReporting:!1,popupsAreEnabled:Ember.computed.alias("messagingSettings.messagingOverlayPopups"),soundsEnabled:Ember.computed.alias("messagingSettings.messagingOverlaySounds"),isMessagingRoute:Ember.computed.match("routing.currentRouteName",$).readOnly(),isProfileRoute:Ember.computed.match("routing.currentRouteName",ee).readOnly(),forcedMinimize:Ember.computed.match("routing.currentRouteName",/(^messaging|abi|article-reader)/).readOnly(),init:function(){var e=this
this._super.apply(this,arguments)
var t=this.get("store"),n=this.get("lix")
Ember.isEmpty(this.get("sender"))&&this.set("sender",this.get("authenticatedUser.miniProfile")),this.setProperties({sortByCreated:["latestEvent.createdAt:desc"],openBubbles:[],numPendingConvoPVEvents:0,isInMailLixEnabled:n.getTreatmentIsEnabled(R),apiKeyVersion:n.getTreatment(O),reloadOnReconnectJitter:n.getTreatmentValue(I),useM3P2:n.getTreatmentIsEnabled(f.LIX_KEY_PROFILE_M3_P2),enableOpenConversationsOnLeft:n.getTreatmentIsEnabled(M)}),this._fetchOverlayData()
var s=this.get("authenticatedUser.miniProfile.id");(this.get("useM3P2")?(0,y.findMessagingSettingsRequest)(this.get("identityStore"),"com.linkedin.voyager.identity.profile.MessagingSettings",s):t.findRecord("identity/profile/messaging-settings",s)).then((function(t){if((0,v.isAlive)(e)){e.set("messagingSettings",t)
var n=e.get("msgOverlay").getCachedOverlayData()
e._setListMinimizedState(n),Object.keys(n).length&&e._showCachedConvos(n)}})).catch((function(){e.set("messageSettings",{pressEnterToSend:!0})})),this._getUnseenConvoCount(),this._showFirstMessage()},didInsertElement:function(){this._super.apply(this,arguments),this._attachListeners()},willDestroyElement:function(){this._super.apply(this,arguments),this.get("msgOverlay").off("newConversation"),this.get("msgOverlay").off("listBubbleMinimizeStateChanged"),this.get("badge").off("badgeCountChanged",this,this._getUnseenConvoCountFromBadge)},_attachListeners:function(){n.default&&(this.addEventListener(window,"blur",this._onWindowBlur.bind(this)),this.addEventListener(window,"focus",this._onWindowFocus.bind(this)),this.addEventListener(window,"visibilitychange",this._handleVisibilityChange.bind(this)),this.get("msgOverlay").on("newConversation",this._newConversation.bind(this)),this.get("badge").on("badgeCountChanged",this,this._getUnseenConvoCountFromBadge))},_setListMinimizedState:function(e){if(!this.get("forcedMinimize")&&this.get("popupsAreEnabled")){var t=this.get("msgOverlay"),n=Ember.get(e,"_listBubble")
n&&(Ember.get(n,"isMinimized")||t.updateListBubbleMinimizeState(!1))}},_handleCachedConvoFetch:function(e){var t=this
Ember.RSVP.all(e.convoRecordPromises).then((function(n){n.forEach((function(n){t._showBubble({conversation:n,isMinimized:!t.get("popupsAreEnabled")||e.cachedConvoMinimzedState[n.id],hasUnseenMessages:!n.get("read")})}))}))},_showCachedConvos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ember.get(e,"_conversationWindows")
if(t&&!this.get("forcedMinimize")){var n=this.get("store"),s=t.reverse().reduce((function(e,t){var s=e.convoRecordPromises,a=e.cachedConvoMinimzedState,i=t.convoId,o=t.isMinimized,l=n.findRecord(T.CONVERSATION,i)
return s.push(l),a[i]=o,{convoRecordPromises:s,cachedConvoMinimzedState:a}}),{convoRecordPromises:[],cachedConvoMinimzedState:{}})
this._handleCachedConvoFetch(s)}},_fetchOverlayData:function(){var e=this
if(this.get("dataFetchInProgress")||this.get("dataLoaded"))return Ember.RSVP.reject()
this.set("dataFetchInProgress",!0)
var t=this._loadConversations(),n=this.isInMailLixEnabled?Ember.RSVP.resolve():this._loadInmailData(),s=this._setupContextualSuggestions()
return Ember.RSVP.hashSettled({conversation:t,inmail:n,contextual:s}).then((function(t){return"rejected"===Ember.get(t.conversation,"state")?(e.set("showFailedState",!0),e.get("tracking").firePageViewEvent(V.OVERLAY_FAILED_TO_CONNECT),Ember.RSVP.resolve()):e.get("sortedConversations.length")||e.get("suggestedRecipients.length")?Ember.RSVP.resolve():e._fetchFallbackStateData()})).finally((function(){(0,v.isAlive)(e)&&e.setProperties({dataFetchInProgress:!1,dataLoaded:!0})}))},_fetchFallbackStateData:function(){var e=this,t=this.get("store"),n=this.get("heathrow").organicAbiShouldSkipImport(),s={connectionSummary:t.findRecord("relationships/shared/connection/connections-summary",0),isAbiComplete:n}
return Ember.RSVP.hashSettled(s).then((function(n){var s=n.isAbiComplete.value,a=Ember.getWithDefault(n,"connectionSummary.value.numConnections",0)
return e.setProperties({isAbiComplete:s,numConnections:a}),a>=B?t.query("common/generic-collection",{model:"relationships/shared/connection/connection",count:4}):Ember.RSVP.resolve()})).then((function(t){t&&e.set("memberConnections",t.get("firstObject.elements"))}))},_onRealtimeReconnect:Ember.on("connectionReestablished",(function(){var e=this.get("reloadOnReconnectJitter")
if(e){var t=Math.random()*e*1e3
this.debounceTask("_reloadEverything",t)}})),_reloadEverything:function(){this._loadConversations(),this._reloadOpenConversationEvents(),this.isInMailLixEnabled||this._loadInmailData()},_loadConversations:function(){var e=this,t=this.get("store")
if(this.isInMailLixEnabled)return this.set("_allConvosFromFindAll",t.findAll(T.CONVERSATION))
var n={q:"search",filters:[j.CONNECTIONS]},s=k.M2M
return(0,p.fetchConversations)(this.get("store"),s,!0,n).then((function(t){e.set("_allConversationsCollection",t)})).finally((function(){e.set("conversationsLoaded",!0)}))},_isMessagingFormFocused:function(){if(n.default){var e=document.activeElement&&document.activeElement.classList
return e&&e.contains("msg-messaging-form__message")}return!1},_onWindowBlur:function(){this._isMessagingFormFocused()&&document.activeElement.blur()},_onWindowFocus:function(){this.get("documentTitle").resetTitle()},_handleVisibilityChange:function(){(0,a.default)()?this._isMessagingFormFocused()&&document.activeElement.blur():(this._reloadOpenConversationEvents(),this._flushPendingConvoPVEvents())},_flushPendingConvoPVEvents:function(){for(var e=0;e<this.numPendingConvoPVEvents;e++)this.get("tracking").firePageViewEvent(V.OVERLAY_CONVO)
this.numPendingConvoPVEvents=0},_reloadOpenConversationEvents:function(){var e=this.get("store")
this.get("openBubbles").forEach((function(t){t.conversation&&t.conversation.id&&(0,p.fetchConversationEvents)(e,t.conversation.id,!0)}))},_loadInmailData:function(){var e=this,t={q:"search",filters:[j.INMAIL,j.UNREAD],folders:[x.INBOX],start:0,count:20}
return(0,p.fetchConversations)(this.get("store"),k.INMAIL,!0,t).then((function(t){e.set("_unreadInmailsCollection",t)}))},_setupContextualSuggestions:function(){return this.set("suggestedRecipients",[]),this._bindContextTracking(),this._loadContextualData()},_bindContextTracking:function(){var e=this
this.get("routing.router").on("willTransition",(function(t){e.set("suggestedRecipients",[]),t.then((function(){return e.runTask((function(){return e._loadContextualData()}))}))}))},_loadContextualData:function(){var e=this,t=this.get("routing"),n=G(t),s=W(t,n),a=X(t,n)
return this.setProperties({contextType:n,contextActor:s,contextEntityUrn:a}),J(this.get("store"),n,a,this.apiKeyVersion).then((function(t){t&&e.set("suggestedRecipients",Q(t))}))},_getUnseenConvoCount:function(){var e=this,t=this.get("isPrefetchWhenUnseenEnabled")
if(this._getUnseenConvoCountFromBadge())return t&&this._getUnseenConvoCountFromBadge()?this._fetchOverlayData():Ember.RSVP.resolve()
var n=this.get("sender.id")
return(0,s.default)({url:"/voyager/api/voyagerMessagingMailboxCounts/"+n}).then((function(t){e.set("hasUnseenItems",t.unseenMessageCount>0||t.unseenInMailCount>0)}))},_getUnseenConvoCountFromBadge:function(){return this.set("unseenMsgCount",this.get("badge").getBadgeCount("messaging"))},_realtimeConversationCreated:function(e){var t=this,s=n.default&document.hasFocus()&&!(0,a.default)()
if(e.get("isInMail")&&!s)return this._playSound(i.notificationSounds.MAIN),this._updateDocumentTitle(e),!1
if(e.get("muted")||!e.get("isM2M")&&!e.get("isInmailReply"))return!1
var o=this._getBubbleByConversation(e),l=this.get("isMessagingRoute"),r=!1
o?o.isActive&&!o.isMinimized&&s?this._markConversationAsRead(e):(Ember.set(o,"hasUnseenMessages",!0),l||(r=!0)):l||(this._showBubble({conversation:e,isMinimized:!this.get("popupsAreEnabled"),hasUnseenMessages:!0,isOpenedFromList:!1}),r=!0)
r&&(this.get("badge").incrementBadge("messaging"),this.runTask((function(){t._getUnseenConvoCountFromBadge()})))
return s||this._updateDocumentTitle(e),r||!s?this._playSound(i.notificationSounds.MAIN):this._playSound(i.notificationSounds.RECEIVE),!0},_playSound:function(e){this.get("soundsEnabled")&&e&&i.soundPlaybackUtils.playSound(e)},_getBubbleByConversation:function(e){return this.get("openBubbles").findBy("conversation.id",e.id)},_updateDocumentTitle:function(e){var n=void 0,s=void 0
e.get("isManyToManyConvo")?(n="i18n_participant_messaged_group",s=e.get("latestEvent.from.name")):(n="i18n_participant_messaged_you",s=e.get("participantNames.firstObject"))
var a=this.get("i18n").getMessageRenderer(t.default,n)([{senderName:s}])
this.get("documentTitle").addTitle(a)},_showBubble:function(e){var t=this._getBubbleByConversation(e.conversation)
if(t){var n=t.conversation.get("id")
if(!0!==t.isMinimized||this._makeSpaceForBubble(t,F)){Ember.setProperties(t,{isMinimized:!1,hasUnseenMessages:!1}),this._markConversationAsRead(t.conversation)
var s=""+_+n;(0,c.default)(this.get("scheduler"),"#"+s+" .msg-form__textarea, #"+s+" .msg-form__contenteditable")}}else e.conversation&&e.conversation.id&&Ember.set(e,"fetchedEventsProxy",(0,r.default)(this._findConversationEvents(e.conversation))),Ember.set(e,"isJumbo",e.conversation.get("latestEvent.isInMail")),this._appendBubble(e)},_findExistingBubbleWithRecipients:function(e){for(var t=e.map((function(e){return e.get("id")})),n=this.openBubbles.length,s=0;s<n;s++){var a=this.openBubbles[s],i=Ember.get(a,"messageRecipients")||Ember.getWithDefault(a.conversation,"participants",[]).mapBy("miniProfile")
if(i){var o=i.map((function(e){return e.get("id")})),l=t.length
if(o.length===l){for(var r=0;r<l;r++)if(-1===o.indexOf(t[r]))return!1
return a}}}return!1},_newConversation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageRecipients,n=e.message,s=void 0===n?"":n,a=e.messageActions,i=void 0===a?{}:a,o=e.isOpenedFromMsgButton,l=void 0!==o&&o,r=e.autoSend,c=e.isContextualReco,m=void 0!==c&&c,u=e.isInMailCompose,d=void 0!==u&&u,g=e.contextualTrackingInfo,p=e.msgAdapterOptions,h=e.placeholderText,b=e.firstMessageTrackingReferrer,v=t||[]
Ember.isArray(v)||(v=[v])
var f=this._findExistingBubbleWithRecipients(v)
f?r&&this._submitMessage(f,r):this._appendBubble({message:s,messageActions:i,placeholderText:h,msgAdapterOptions:p,autoSend:r,isContextualReco:m,contextualTrackingInfo:g,messageRecipients:v,isOpenedFromList:!l,isOpenedFromMsgButton:l,isMinimized:!1,isJumbo:d,isInMailCompose:d,isNew:!0,hasUnseenMessages:!1,firstMessageTrackingReferrer:b})},_appendBubble:function(e){this._makeSpaceForBubble(e)&&(this.get("enableOpenConversationsOnLeft")?this.get("openBubbles").pushObject(e):this.get("openBubbles").unshiftObject(e),this.get("msgOverlay").syncCachedConvos(this.openBubbles))},_closeBubble:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
Ember.set(e,"hasDraft",!1),this.get("openBubbles").removeObject(e),e.conversation&&e.conversation.id&&this.get("msgOverlay").syncCachedConvos(this.openBubbles),n.default&&!t&&this.element&&this.element.focus()},_isBubbleFocused:function(e){if(n.default&&e.conversation){var t=""+_+e.conversation.id
return document.activeElement===document.querySelector("#"+t+" .msg-form__textarea, #"+t+" .msg-form__contenteditable")}return!1},_getSpaceAvailable:function(){var e=this.openBubbles.reduce((function(e,t){return t.isMinimized?e+216:t.isJumbo?e+516:e+352}),312)
return window.innerWidth-e},_getSpaceNeeded:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=e.isMinimized,s=e.isJumbo,a=0
return t===z?a=s?516:352:t===F&&n?a=(s?516:352)-216:t!==U||n||s||(a=164),a},_canWeMakeEnoughSpace:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.get("openBubbles"),s=n.length,a=0
if(this.spaceNeeded>0){for(var i=0;i<s;i++){var o=n[i],l=o.conversation
l&&l.id===e||this._isBubbleFocused(o)||(o.hasDraft||o.isNew?o.isMinimized||(o.isJumbo?a+=300:a+=136):(t.push(o),o.isMinimized?a+=216:o.isJumbo?a+=516:a+=352))}return a>=this.spaceNeeded}return!0},_minimizeBubblesToMakeSpace:function(e){var t=this.get("openBubbles"),n=t.length,s=void 0
s=this.get("enableOpenConversationsOnLeft")?t.reverse():t
for(var a=n-1;a>-1;a--){var i=s[a]
if(i.conversation&&i.conversation.id!==e&&!i.isMinimized&&!this._isBubbleFocused(i)){var o=(i.isJumbo?516:352)-216
if(Ember.set(i,"isMinimized",!0),this.spaceNeeded-=o,this.spaceNeeded<=0)return!0}}return!1},_removeBubblesToMakeSpace:function(e){for(var t=void 0,n=(t=this.get("enableOpenConversationsOnLeft")?e.reverse():e).length-1;n>-1;n--){var s=t[n]
if(this._closeBubble(s,!0),this.spaceNeeded-=216,this.spaceNeeded<=0)return!0}return!1},_makeSpaceForBubble:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,s=this.get("openBubbles").length
if(!n.default)return!1
if(0===s)return(0,a.default)()&&this.numPendingConvoPVEvents--,!0
if(this.spaceNeeded=this._getSpaceNeeded(e,t)-this._getSpaceAvailable(),this.spaceNeeded<1)return(0,a.default)()&&this.numPendingConvoPVEvents--,!0
var i=e.conversation&&e.conversation.id,o=[]
return this._canWeMakeEnoughSpace(i,o)&&(this._minimizeBubblesToMakeSpace(i)||this._removeBubblesToMakeSpace(o))?((0,a.default)()&&this.numPendingConvoPVEvents--,!0):(e.isOpenedFromList||this.set("realtimeMsgNotAutoOpened",!0),!1)},_removeBubbleAtIndex:function(e){var t=this.get("openBubbles")
Ember.set(t[e],"hasDraft",!1),t.removeAt(e)},_markConversationAsRead:function(e){Ember.getWithDefault(e,"read",!1)||K(e),this._markAllAsSeen()},_markAllAsSeen:function(){var e=this
this.get("badge").markAllItemsAsSeen("messaging",Date.now(),!0).then((function(){e.setProperties({unseenMsgCount:0,hasUnseenItems:!1})}))},_fireConversationDetailActionEvent:function(e,t,n,s,a){g.default.fireDetailActionEvent(this.get("tracking"),e,t,n,s,a)},_findConversationEvents:function(e){return e&&e.get("id")?e.get("eventFetchInProgress")||e.get("fetchedInitialEvents")?e.get("eventFetchPromise"):(0,v.isAlive)(this)?(Ember.set(e,"eventFetchInProgress",!0),Ember.set(e,"eventFetchPromise",(0,p.fetchConversationEvents)(this.get("store"),e.get("id"),!0).then((function(t){return Ember.setProperties(e,{eventFetchInProgress:!1,fetchedInitialEvents:!0}),t})))):Ember.RSVP.reject():Ember.RSVP.reject()},_fireRecommendationActionEvent:function(e){Z({trackingService:this.get("tracking"),contextType:this.get("contextType"),actionCategory:"MESSAGE",recommendationTrackingId:Ember.get(e,"contextualTrackingInfo.recommendationTrackingId"),showRemainingSuggestions:Ember.get(e,"contextualTrackingInfo.showRemainingSuggestions")})},_sendReply:function(e,t){var n=this,s=e.messageActions||{},a=e.conversation,i=Ember.get(a,"id"),o=e.isNew?e.firstMessageTrackingReferrer:void 0
return e.isNew&&s.willSend&&s.willSend(),t.recipientIDs=a.get("participants").mapBy("miniProfile.id"),this.get("tracking").fireInteractionEvent(C.SEND),this._fireConversationDetailActionEvent(a,E,C.SEND,P,o),Y(this.get("store"),this.get("sender.id"),a,t).then((function(){if(e.isNew){var t=n.get("openBubbles").find((function(e){return Ember.get(e,"conversation.id")===i&&!Ember.getWithDefault(e,"isNew",!1)}))
t&&n._closeBubble(t),s.didSend&&s.didSend(),s.afterSend&&s.afterSend(!0),e.isContextualReco&&n._fireRecommendationActionEvent(e),Ember.set(e,"isNew",!1)}}))},_saveConversation:function(e,t){var n=this,s=e.messageActions||{},a=this.get("store"),i=e.isOpenedFromMsgButton?this.get("tracking").getCurrentPageKey():w,o=e.firstMessageTrackingReferrer
return s.willSend&&s.willSend(),this.get("tracking").fireInteractionEvent(C.SEND),H(a,t).then((function(t){Ember.set(e,"conversation",t),Ember.setProperties(e,{fetchedEventsProxy:(0,r.default)((0,p.fetchConversationEvents)(a,t.get("id"),!0)),isNew:!1}),e.isContextualReco&&n._fireRecommendationActionEvent(e),n._fireConversationDetailActionEvent(t,E,C.SEND,i,o),s.didSend&&s.didSend(),s.afterSend&&s.afterSend(!0)}))},_submitMessage:function(e,t){var n=this,s=e.conversation?this._sendReply:this._saveConversation
return Ember.get(e,"msgAdapterOptions.groupUrn")&&!e.conversation?(t.messageReplyType=A.M2GM,this.get("store").findRecord("identity/shared/mini-profile",t.recipientIDs[0]).then((function(){return s.call(n,e,t)}))):s.call(this,e,t)},_showFirstMessage:function(){var e=this.getProperties("i18n","firstMessage"),n=e.i18n,s=e.firstMessage,a=Ember.getProperties(s.getMessageInfo()||{},"inviter","treatment"),i=a.inviter,o=a.treatment
i&&o&&this._newConversation({messageRecipients:i.get("miniProfile"),message:n.getMessageRenderer(t.default,"i18n_first_message_prompt_"+o)()})},actions:{openConversation:function(e){if(this.get("realtimeMsgNotAutoOpened")&&this.set("realtimeMsgNotAutoOpened",!1),e){var t={conversation:e,isInMail:e.get("latestEvent.isInMail"),isOpenedFromList:!0,isMinimized:!1}
this._showBubble(t),e.get("latestEvent.isInMail")&&this.get("tracking").fireInteractionEvent(C.OPEN_INMAIL)}else this._appendBubble({isJumbo:!1,isMinimized:!1},!0)},newConversation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.recipients,n=e.autoSend,s=e.isContextualReco,a=e.contextualTrackingInfo,i=e.isInMailCompose
this._newConversation({autoSend:n,isContextualReco:s,isInMailCompose:i,contextualTrackingInfo:a,messageRecipients:t})},handleSuccessfulDiscardRequest:function(e){this._closeBubble(this._getBubbleByConversation(e)),e.unloadRecord()},closeBubble:function(e){this._closeBubble(e)},submitMessage:function(e,t){return this._submitMessage(e,t)},resendMessage:function(e){e.set("createdAt",Date.now()),q(e)},findConversationEvents:function(e){this._findConversationEvents(e)},loadMoreConversations:function(){var e=this,t={q:"search",createdBefore:this.get("sortedConversations").get("lastObject.latestEvent.createdAt")-1}
return this.isInMailLixEnabled&&this.get("hasMoreConversations")?this.get("store").query(T.CONVERSATION,t).then((function(t){return e.set("hasMoreConversations",!!t.get("length"))})):this.get("hasMoreConversations")?(t.filters=[j.CONNECTIONS],(0,p.queryConversations)(this.get("store"),t).then((function(t){return e.set("hasMoreConversations",!!t.get("elements.length"))}))):Ember.RSVP.resolve(!1)},loadMoreMessages:function(e){if(!e||!e.get("id"))return Ember.RSVP.reject()
var t=this.get("store"),n=e.get("oldestEvent.createdAt"),s=e.get("id"),a={conversationId:s,createdBefore:n-1}
return(0,p.queryConversationEvents)(t,s,a).then((function(e){return e.get("elements.length")}))},sendTypingIndicator:function(e){if(!e.isNew){var t=Ember.get(e,"conversation.id")
t&&(0,m.default)(t)}},saveSettings:function(){this.get("useM3P2")?(0,y.saveMessagingSettingsRequest)(this.get("identityStore"),this.get("messagingSettings")):this.get("messagingSettings").save()},markAllAsSeen:function(){this._markAllAsSeen()},markConversationAsRead:function(e){e.isNew||(Ember.set(e,"hasUnseenMessages",!1),this._markConversationAsRead(e.conversation))},updateDraftState:function(e,t){Ember.set(e,"hasDraft",t)},increaseNumPendingConvoPVEvents:function(){this.numPendingConvoPVEvents++},refetchOverlayData:function(){this.setProperties({dataFetchInProgress:!1,dataLoaded:!1,showFailedState:!1}),this._fetchOverlayData()},syncCachedConvos:function(){this.get("msgOverlay").syncCachedConvos(this.openBubbles)},resizeBubble:function(e,t){this._makeSpaceForBubble(e,t)},saveConversationName:function(e,t){return b.default.updateConversationName(this.get("store"),e,{newName:t,senderID:this.get("sender.id")})},toggleConversationMute:function(e){return b.default.toggleConversationMute(e,this.get("tracking"),C.MUTE)}}})})),define("msg-overlay/components/novice-state",["exports","msg-overlay/templates/components/novice-state"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,store:Ember.inject.service("store"),classNames:["msg-overlay-novice-state","text-align-center","p5"]})})),define("msg-overlay/components/query-history-item",["exports","msg-overlay/components/base-search-item","msg-overlay/templates/components/query-history-item"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({layout:n.default})})),define("msg-overlay/components/recommendation-card",["exports","msg-overlay/templates/components/recommendation-card","ember-cli-pemberly-tracking/mixins/trackable-component","msg-shared/utils/constants","msg-overlay/utils/recommendation-helpers"],(function(e,t,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=s.default.IMPRESSION_KEYS.CONTEXTUAL_RECOMMENDATION_IMPRESSION,o=s.default.KEYCODES,l=o.ENTER,r=o.SPACEBAR
e.default=Ember.Component.extend(n.default,{layout:t.default,tagName:"li",classNames:["msg-conversations-container__convo-item","msg-overlay-list-bubble__convo-item","msg-overlay-list-bubble__reco-item"],attributeBindings:["tabindex","role"],tabindex:"0",role:"button",recipientProfile:Ember.computed.alias("suggestion.suggestedRecipientProfile.miniProfile").readOnly(),onImpression:function(e){this.get("tracking").fireTrackingPayload(i,{recommendedEntity:{recommendedEntityUrn:this.get("recipientProfile.objectUrn"),recommendationTrackingId:this.get("suggestion.trackingId"),referenceEntityTrackingObject:this.get("contextEntityUrn"),listPosition:{index:this.get("listPosition")},usecase:(0,a.normalizeUsecase)(this.get("contextType"),this.get("showingAllSuggestions")),visibleTime:e.visibleTime,duration:e.duration}})},click:function(){this.get("messageRecommendation")(this.get("suggestion"))},keyDown:function(e){e.keyCode!==l&&e.keyCode!==r||(e.preventDefault(),this.get("messageRecommendation")(this.get("suggestion")))}})})),define("msg-overlay/components/search-connection-item",["exports","msg-overlay/components/base-search-item","msg-overlay/templates/components/search-connection-item"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({layout:n.default})})),define.alias("ember-cli-pemberly-tracking/components/shared/external-link","msg-overlay/components/shared/external-link"),define.alias("ember-truncate/components/truncate-multiline","msg-overlay/components/truncate-multiline"),define.alias("ember-cli-search-typeahead/components/type-ahead","msg-overlay/components/type-ahead"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-auto-complete","msg-overlay/components/typeahead/typeahead-auto-complete"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-city","msg-overlay/components/typeahead/typeahead-city"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-company","msg-overlay/components/typeahead/typeahead-company")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-country","msg-overlay/components/typeahead/typeahead-country"),define("msg-overlay/components/typeahead/typeahead-current-location",["exports","ember-cli-search-typeahead/templates/components/typeahead/typeahead-current-location","ember-cli-search-typeahead/components/typeahead/typeahead-current-location"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=n.default.extend({_getI18nText:function(e){return this.get("i18n").getMessageRenderer(t.default,e)([])}})})),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-degree","msg-overlay/components/typeahead/typeahead-degree"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-field-of-study","msg-overlay/components/typeahead/typeahead-field-of-study"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-geo","msg-overlay/components/typeahead/typeahead-geo"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-group","msg-overlay/components/typeahead/typeahead-group"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-hit","msg-overlay/components/typeahead/typeahead-hit"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-industry","msg-overlay/components/typeahead/typeahead-industry"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-input","msg-overlay/components/typeahead/typeahead-input"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-industry","msg-overlay/components/typeahead/typeahead-job-function"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-language","msg-overlay/components/typeahead/typeahead-language"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-postal-code","msg-overlay/components/typeahead/typeahead-postal-code"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-profile","msg-overlay/components/typeahead/typeahead-profile"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-region","msg-overlay/components/typeahead/typeahead-region"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-result-image","msg-overlay/components/typeahead/typeahead-result-image"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-results","msg-overlay/components/typeahead/typeahead-results"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-school","msg-overlay/components/typeahead/typeahead-school"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-showcase","msg-overlay/components/typeahead/typeahead-showcase"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-site-feature","msg-overlay/components/typeahead/typeahead-site-feature"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-skill","msg-overlay/components/typeahead/typeahead-skill"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-state","msg-overlay/components/typeahead/typeahead-state"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-suggestion","msg-overlay/components/typeahead/typeahead-suggestion"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-title","msg-overlay/components/typeahead/typeahead-title"),define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-topic","msg-overlay/components/typeahead/typeahead-topic"),define("msg-overlay/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t=void 0
try{var n=document.querySelector('meta[name="msg-overlay/config/environment"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={}}e.default=t})),define("msg-overlay/engine",["exports","ember-engines/engine","ember-load-initializers","msg-overlay/utils/engine-dependencies","msg-overlay/resolver"],(function(e,t,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=t.default.extend({init:function(){this._super.apply(this,arguments),this.dependencies={externalRoutes:s.MESSAGING_OVERLAY_EXTERNAL_ROUTES,services:s.MESSAGING_OVERLAY_SERVICES}},modulePrefix:"msg-overlay",Resolver:a.default});(0,n.default)(i,"msg-overlay"),e.default=i})),define.alias("ember-cli-pemberly-i18n/helpers/bidi-dir","msg-overlay/helpers/bidi-dir"),define.alias("ember-mpr-images/helpers/custom-image","msg-overlay/helpers/custom-image"),define.alias("ember-cli-pemberly-i18n/helpers/format-currency","msg-overlay/helpers/format-currency"),define.alias("ember-cli-pemberly-i18n/helpers/format-date","msg-overlay/helpers/format-date")
define.alias("i18n-helpers/helpers/format-duration","msg-overlay/helpers/format-duration"),define.alias("ember-cli-pemberly-i18n/helpers/format-name","msg-overlay/helpers/format-name"),define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-overlay/helpers/format-number"),define.alias("ember-cli-pemberly-i18n/helpers/format-time","msg-overlay/helpers/format-time"),define.alias("ember-semaphore/helpers/format-title","msg-overlay/helpers/format-title"),define.alias("ember-cli-pemberly-i18n/helpers/format-truncate","msg-overlay/helpers/format-truncate"),define.alias("ember-cli-pemberly-i18n/helpers/is-any-locale","msg-overlay/helpers/is-any-locale"),define.alias("ember-cli-pemberly-i18n/helpers/is-cjk-language","msg-overlay/helpers/is-cjk-language"),define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-content","msg-overlay/helpers/is-rtl-content"),define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-language","msg-overlay/helpers/is-rtl-language"),define.alias("ember-mpr-images/helpers/lazy-image","msg-overlay/helpers/lazy-image"),define.alias("ember-cli-pemberly-artdeco/helpers/li-icon","msg-overlay/helpers/li-icon"),define.alias("ember-cli-pemberly-i18n/helpers/t-link-to","msg-overlay/helpers/t-link-to"),define.alias("ember-cli-pemberly-i18n/helpers/t-make-name","msg-overlay/helpers/t-make-name"),define.alias("ember-cli-pemberly-i18n/helpers/t","msg-overlay/helpers/t"),define.alias("ember-cli-pemberly-tracking/helpers/tracked-action","msg-overlay/helpers/tracked-action"),define.alias("ember-cli-pemberly-tracking/helpers/tracking","msg-overlay/helpers/tracking"),define("msg-overlay/initializers/artdeco",["exports","artdeco-eyeglass","ember-cli-pemberly-artdeco/icons-loader","msg-overlay/config/environment"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=o
var a=[t.default.contextClasses,t.default.buttonAnimation,t.default.floatingLabel,t.default.focusOutline]
function i(e,t){var n=e[t]
e[t]=function(){a.forEach((function(e){return e&&"function"==typeof e.teardown&&e.teardown()})),n&&"function"==typeof n&&n.call(e)}}function o(e){if("undefined"!=typeof document){var t="test"!==s.default.environment
n.default.load(t).catch(l),a.forEach((function(e){return e.install()})),"function"==typeof e.willDestroy?i(e,"willDestroy"):"function"==typeof e.destroy&&i(e,"destroy")}}function l(e){throw e}e.default={name:"artdeco",initialize:o}})),define.alias("ember-cli-pemberly-i18n/initializers/i18n","msg-overlay/initializers/i18n"),define.alias("ember-spaniel/initializers/spaniel","msg-overlay/initializers/spaniel"),define("msg-overlay/instance-initializers/-t-link-to",["exports","ember-stdlib/utils/is-browser"],(function(e,t){"use strict"
function n(e){if(t.default)e.lookup("service:-t-link-to")}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=n,e.default={name:"-t-link-to",initialize:n}})),define("msg-overlay/instance-initializers/locale",["exports","ember-stdlib/utils/is-browser","msg-overlay/services/locale"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i
var s=/([a-z]{2}_[A-Z]{2})/
function a(e){var t=document.querySelector("meta[name="+e+"]")
if(t)return t.getAttribute("content")}function i(e){if(t.default){var i=e.lookup("service:locale"),o=void 0
if(!o){var l=(c=a("i18nLocale"),m={},c&&(m.locale=c),m)
l.locale&&s.test(l.locale)&&(o=l.locale)}o||(Ember.Logger.info("Didn't find locale meta tag. Defaulting to "+n.DEFAULT_LOCALE),o=n.DEFAULT_LOCALE)
var r=a("requestIpCountryCode")
i.setProperties({interfaceLocale:o,requestIpCountryCode:r})}var c,m}e.default={name:"locale",initialize:i}})),define.alias("ember-resolver/index","msg-overlay/resolver"),define.alias("ember-cli-artdeco-modal/services/-private/artdeco/modal","msg-overlay/services/-private/artdeco/modal"),define.alias("ember-cli-pemberly-i18n/services/-t-link-to","msg-overlay/services/-t-link-to"),define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-overlay/services/artdeco-hoverable"),define.alias("ember-cli-pemberly-i18n/services/formatter","msg-overlay/services/formatter"),define.alias("ember-cli-pemberly-i18n/services/i18n","msg-overlay/services/i18n"),define.alias("ember-cli-pemberly-i18n/services/locale","msg-overlay/services/locale"),define.alias("ember-cli-search-typeahead/services/modal-manager","msg-overlay/services/modal-manager")
define.alias("ember-mpr-images/services/mpr","msg-overlay/services/mpr"),define.alias("ember-singularity/services/unified-event-handler","msg-overlay/services/unified-event-handler"),define.alias("ember-spaniel/services/viewport","msg-overlay/services/viewport"),define("msg-overlay/templates/application",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"Hmamc6eX",block:'{"symbols":[],"statements":[[1,[18,"msg-overlay@messaging-overlay-container"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/application.hbs"}})})),define("msg-overlay/templates/components/abi-flow",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"LsEgB1cg",block:'{"symbols":[],"statements":[[0,"\\n"],[6,"div"],[9,"class","msg-overlay-abi__content"],[7],[0,"\\n"],[4,"if",[[20,["isAbiComplete"]]],null,{"statements":[[0,"    "],[6,"p"],[9,"class","Sans-15px-black-55%"],[7],[1,[25,"t",["i18n_start_conversations","msg-overlay/templates/components/abi-flow"],null],false],[8],[0,"\\n"],[4,"link-to-external",["mynetwork"],[["class","data-control-name"],["msg-overlay-abi__cta button-primary-medium mt4","overlay.find_connections"]],{"statements":[[0,"      "],[1,[25,"t",["i18n_find_connections","msg-overlay/templates/components/abi-flow"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"    "],[6,"h4"],[9,"class","Sans-17px-black-85%-semibold"],[7],[1,[25,"t",["i18n_career_tip","msg-overlay/templates/components/abi-flow"],null],false],[8],[0,"\\n    "],[6,"p"],[9,"class","Sans-15px-black-55% mt2"],[7],[1,[25,"t",["i18n_find_opportunities","msg-overlay/templates/components/abi-flow"],null],false],[8],[0,"\\n"],[4,"link-to-external",["mynetwork.abi"],[["class","data-control-name"],["msg-overlay-abi__cta button-primary-medium mt4","overlay.abi"]],{"statements":[[0,"      "],[1,[25,"t",["i18n_continue","msg-overlay/templates/components/abi-flow"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/abi-flow.hbs"}})})),define("msg-overlay/templates/components/conversation-bubble",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"zqgsKMI3",block:'{"symbols":["components","actions","props","scroller"],"statements":[[6,"header"],[10,"class",[26,["msg-overlay-bubble-header msg-overlay-conversation-bubble--header flex-shrink-zero",[25,"if",[[20,["hasBadge"]],[25,"concat",[" msg-overlay-bubble-header--inverse ","msg-overlay-bubble-header--is-badged"],null]],null]]]],[10,"data-control-name",[25,"if",[[20,["isMinimized"]],"overlay.maximize_conversation_window_bar","overlay.minimize_conversation_window_bar"],null],null],[3,"action",[[19,0,[]],"toggleMinimize",[25,"tracking",null,[["control-name"],[[25,"if",[[20,["isMinimized"]],"overlay.maximize_conversation_window_bar","overlay.minimize_conversation_window_bar"],null]]]]]],[7],[0,"\\n\\n  "],[6,"section"],[10,"class",[26,["msg-overlay-bubble-header__details pv1 ",[25,"if",[[20,["isMinimized"]],"align-items-center flex-row-reverse","align-items-flex-start flex-column"],null]]]],[7],[0,"\\n    "],[6,"h4"],[9,"class","msg-overlay-bubble-header__primary-text truncate Sans-15px-black-85%-semibold"],[7],[0,"\\n"],[4,"if",[[20,["bubble","isNew"]]],null,{"statements":[[0,"        "],[1,[25,"t",["i18n_new_message","msg-overlay/templates/components/conversation-bubble"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["conversation","isManyToManyConvo"]]],null,{"statements":[[0,"          "],[1,[25,"if",[[20,["conversation","name"]],[20,["conversation","name"]],[25,"t",["i18n_participant_familiar","msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["conversation","latestParticipantNames"]]]]]],null],false],[0,"\\n"],[4,"if",[[20,["conversationExpanded"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","msg-overlay-bubble-header__secondary-text Sans-13px-black-55% truncate js-msg-group-participants"],[7],[0,"\\n              "],[1,[25,"t",[[25,"if",[[20,["conversation","name"]],"i18n_participant_familiar","i18n_num_participants_in_group_conversation"],null],"msg-overlay/templates/components/conversation-bubble"],[["names","count"],[[20,["conversation","latestParticipantNames"]],[20,["conversation","totalParticipantsCount"]]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[20,["isMinimized"]]],null,{"statements":[[0,"          "],[1,[25,"t",["i18n_participants_full_names","msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["conversation","participantNames"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"link-to-external",["profile.view",[20,["recipientProfileId"]]],[["class","bubbles"],["msg-overlay-bubble-header__primary-text truncate Sans-15px-black-85%-semibold hoverable-link-text",false]],{"statements":[[0,"            "],[1,[25,"t",["i18n_participants_full_names","msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["conversation","participantNames"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"    "],[8],[0,"\\n"],[4,"if",[[20,["showPresenceUI"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","msg-overlay-conversation-bubble__presence-info"],[7],[0,"\\n        "],[1,[25,"presence@presence-indicator",null,[["classNames","miniProfile","customTracking","size"],["msg-overlay-conversation-bubble__presence-indicator",[20,["conversation","participants","firstObject","miniProfile"]],[25,"action",[[19,0,[]],"presenceCustomTracking"],null],2]]],false],[0,"\\n"],[4,"unless",[[20,["isMinimized"]]],null,{"statements":[[4,"if",[[20,["presenceStatus","isOnline"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","msg-overlay-bubble-header__secondary-text truncate Sans-13px-black-55%"],[7],[0,"\\n              "],[1,[25,"t",["i18n_active_now","msg-overlay/templates/components/conversation-bubble"],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["presenceStatus","isReachable"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","msg-overlay-bubble-header__secondary-text truncate Sans-13px-black-55%"],[7],[0,"\\n              "],[1,[25,"t",["i18n_mobile","msg-overlay/templates/components/conversation-bubble"],[["date"],[[25,"shared@time-ago",[[20,["presenceStatus","lastActiveAt"]],"short-ago"],null]]]],false],[0,"\\n            "],[8],[0,"\\n          "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["showCoworkerLabel"]]],null,{"statements":[[4,"unless",[[20,["isMinimized"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","msg-overlay-conversation-bubble__presence-info msg-overlay-bubble-header__secondary-text truncate Sans-13px-black-55%"],[7],[0,"\\n          "],[1,[25,"t",["i18n_coworker_label","msg-overlay/templates/components/conversation-bubble"],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[]},null]],"parameters":[]}],[0,"  "],[8],[0,"\\n\\n  "],[6,"section"],[9,"class","msg-overlay-bubble-header__controls display-flex"],[7],[0,"\\n"],[4,"unless",[[20,["bubble","isNew"]]],null,{"statements":[[0,"      "],[6,"button"],[9,"class","msg-overlay-bubble-header__control msg-overlay-conversation-bubble__expand-btn"],[3,"action",[[19,0,[]],"toggleJumboSize"],[["bubbles"],[false]]],[7],[0,"\\n        "],[6,"span"],[9,"class","visually-hidden"],[7],[0,"\\n          "],[1,[25,"t",[[25,"if",[[20,["isJumboSize"]],"i18n_minimize_bubble","i18n_maximize_bubble"],null],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["conversation","participantNames"]]]]],false],[0,"\\n        "],[8],[0,"\\n        "],[1,[25,"shared@li-icon",null,[["type","size"],[[25,"if",[[20,["isJumboSize"]],"arrows-in-icon","arrows-out-icon"],null],"small"]]],false],[0,"\\n      "],[8],[0,"\\n      "],[1,[25,"messaging-base@thread-actions",null,[["conversation","handleSuccessfulDiscardRequest","toggleShowRenameConversation","toggleConversationMute","trackingModuleName","actionTrackingPrefix","addParticipantsPageKey","externalComps","isOverlay"],[[20,["conversation"]],[20,["handleSuccessfulDiscardRequest"]],[25,"action",[[19,0,[]],"toggleShowRenameConversation"],null],[20,["toggleConversationMute"]],[20,["trackingModuleName"]],[20,["actionTrackingPrefix"]],"flagship3_messaging_overlay_manage_participants_modal.page",[25,"hash",null,[["semaphoreComp"],[[25,"component",["ember-semaphore"],null]]]],true]]],false],[0,"\\n"]],"parameters":[]},null],[0,"    "],[6,"button"],[9,"class","msg-overlay-bubble-header__control js-msg-close"],[9,"data-control-name","overlay.close_conversation_window"],[3,"action",[[19,0,[]],"closeBubble",[25,"tracking",null,[["control-name"],["overlay.close_conversation_window"]]]],[["bubbles"],[false]]],[7],[0,"\\n      "],[6,"span"],[9,"class","visually-hidden"],[7],[0,"\\n        "],[1,[25,"t",[[20,["a11yText","closeConvo"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[25,"t",[[20,["a11yText","names","key"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["a11yText","names","param"]]]]]]]],false],[0,"\\n      "],[8],[0,"\\n      "],[1,[25,"shared@li-icon",null,[["type","size","color"],["cancel-icon","small",true]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[9,"class","msg-s-thread-actions-tray"],[7],[0,"\\n"],[4,"if",[[20,["showRenameConversationForm"]]],null,{"statements":[[0,"    "],[1,[25,"messaging-base@conversation-rename",null,[["conversation","hideRenameConversationForm","saveConversationName","actionTrackingPrefix","pageKey"],[[20,["conversation"]],[25,"action",[[19,0,[]],"hideRenameConversationForm"],null],[25,"action",[[19,0,[]],"saveConversationName"],null],[20,["actionTrackingPrefix"]],"flagship3_messaging_overlay_conversation_window_rename.page"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["conversation","muted"]]],null,{"statements":[[0,"    "],[1,[25,"messaging-base@conversation-mute-banner",null,[["toggleConversationMute","actionTrackingPrefix","pageKey"],[[20,["toggleConversationMute"]],[20,["actionTrackingPrefix"]],"flagship3_messaging_overlay_conversation_window_muted.page"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["enableNonConnectionBanner"]]],null,{"statements":[[0,"    "],[1,[25,"messaging-base@nonconnection-banner",null,[["recipientProfileId","conversation"],[[20,["recipientProfileId"]],[20,["conversation"]]]]],false],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n\\n"],[6,"div"],[10,"class",[26,["msg-overlay-conversation-bubble__content-wrapper display-flex flex-column",[25,"if",[[20,["showRenameConversationForm"]]," msg-overlay-conversation-bubble__content-wrapper--disabled"],null]]]],[7],[0,"\\n"],[4,"if",[[20,["bubble","isNew"]]],null,{"statements":[[4,"if",[[20,["isInMailCompose"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","EntityLockup-circle-2-ghost-person pv2 pl3"],[7],[0,"\\n        "],[6,"figure"],[7],[0,"\\n          "],[1,[25,"custom-image",null,[["ghostType","image"],["person",[20,["firstRecipient","picture"]]]]],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"dl"],[7],[0,"\\n          "],[6,"dt"],[7],[1,[25,"format-name",null,[["firstName","lastName","type"],[[20,["firstRecipient","firstName"]],[20,["firstRecipient","lastName"]],"full"]]],false],[8],[0,"\\n          "],[6,"dd"],[7],[1,[20,["firstRecipient","occupation"]],false],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"messaging-base@connections-lookup",null,[["a11y-text","class","placeholder","addRecipientControlName","recipients","performedSearch","resetSearch","dropdownOpen","dropdownClose","recipientsChanged"],[[25,"t",["i18n_new_compose_recipients_label","msg-overlay/templates/components/conversation-bubble"],null],"msg-overlay-conversation-bubble__connections-lookup mbA",[25,"if",[[20,["messageBarText"]],[20,["messageBarText"]],[25,"t",["i18n_type_name_or_multiple_names","msg-overlay/templates/components/conversation-bubble"],null]],null],"overlay.select_search_recipient",[20,["messageRecipients"]],[25,"action",[[19,0,[]],"performedSearch"],null],[25,"action",[[19,0,[]],"resetSearch"],null],[25,"action",[[19,0,[]],"dropdownOpen"],null],[25,"action",[[19,0,[]],"dropdownClose"],null],[25,"action",[[19,0,[]],"recipientsChanged"],null]]]],false],[0,"\\n\\n"],[4,"if",[[20,["noSearchResults"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","msg-overlay-conversation-bubble__new-conversation-body"],[9,"tabindex","0"],[7],[0,"\\n          "],[6,"div"],[9,"class","msg-overlay-conversation-bubble__no-results-image"],[7],[8],[0,"\\n          "],[6,"div"],[7],[0,"\\n            "],[6,"p"],[7],[1,[25,"if",[[20,["noSearchResultsHeader"]],[20,["noSearchResultsHeader"]],[25,"t",["i18n_no_search_results_header","msg-overlay/templates/components/conversation-bubble"],null]],null],false],[8],[0,"\\n            "],[6,"p"],[7],[1,[25,"if",[[20,["noSearchResultsBody"]],[20,["noSearchResultsBody"]],[25,"t",["i18n_no_search_results_body","msg-overlay/templates/components/conversation-bubble"],[["query"],[[20,["recipientSearchTerm"]]]]]],null],false],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["conversation","latestEvent","isInMail"]]],null,{"statements":[[0,"    "],[1,[25,"messaging-base@gdpr-notice",null,[["noticeTypes"],[[20,["gdprNoticeType"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showMessageList"]]],null,{"statements":[[4,"messaging-base@message-list-scroller",null,[["initialEventsRequest","conversation","latestEvent","typingParticipants","loadMore"],[[20,["bubble","fetchedEventsProxy"]],[20,["conversation"]],[20,["conversation","latestEvent"]],[20,["conversation","typingParticipants"]],[25,"action",[[19,0,[]],[20,["loadMore"]]],null]]],{"statements":[[0,"      "],[1,[25,"messaging-base@message-list",null,[["isOverlay","autoDownloadAttachments","isLoading","conversation","resendMessage","mouseUp"],[true,true,[19,4,["props","isLoading"]],[20,["conversation"]],[25,"action",[[19,0,[]],"resendMessage"],null],[25,"action",[[19,0,[]],"focusMessageInput"],null]]]],false],[0,"\\n"],[4,"if",[[19,4,["props","hasNewMessages"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","msg-s-message-list__new-message msg-animation__indicator"],[7],[0,"\\n          "],[6,"span"],[9,"class","visually-hidden"],[7],[1,[25,"t",["a11y_new_messages","msg-overlay/templates/components/conversation-bubble"],null],false],[8],[0,"\\n          "],[6,"button"],[9,"class","msg-s-message-list__new-message-button button-primary-small block"],[9,"type","button"],[10,"onclick",[25,"action",[[19,0,[]],[19,4,["actions","scrollToNewMessages"]]],null],null],[7],[0,"\\n            "],[1,[25,"shared@li-icon",null,[["type","size"],["arrow-down-icon","small"]]],false],[0,"\\n            "],[1,[25,"t",["i18n_new_messages","msg-overlay/templates/components/conversation-bubble"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[4]},null],[0,"\\n"],[4,"if",[[20,["hasQuickReplies"]]],null,{"statements":[[0,"      "],[1,[25,"messaging-base@quick-replies",null,[["eventId","quickReplies","useCase","saveReply"],[[20,["conversation","latestEvent","id"]],[20,["conversation","quickReplies"]],"QUICK_REPLY_OVERLAY",[25,"action",[[19,0,[]],"submitMessage"],null]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"unless",[[20,["conversation","currentUserLeft"]]],null,{"statements":[[4,"if",[[20,["latestMessageIsInMailFromSelf"]]],null,{"statements":[[0,"      "],[6,"p"],[9,"class","msg-thread__blocked-compose p4 Sans-13px-black-55%"],[7],[0,"\\n        "],[1,[25,"t",["i18n_no_response_yet","msg-overlay/templates/components/conversation-bubble"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["blockedByDecline"]]],null,{"statements":[[0,"      "],[6,"p"],[9,"class","msg-thread__blocked-compose p4 Sans-13px-black-55%"],[7],[0,"\\n        "],[1,[25,"t",["i18n_recipient_declined_inmail","msg-overlay/templates/components/conversation-bubble"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["conversation","isBot"]]],null,{"statements":[[0,"      "],[6,"p"],[9,"class","msg-thread__assistant-no-longer-available ph2 pv3"],[7],[0,"\\n        "],[1,[25,"shared@li-icon",null,[["type","class"],["notify-pebble-icon","msg-thread__assistant-no-longer-available-icon mr2"]]],false],[0,"\\n        "],[6,"span"],[9,"class","Sans-13px-white-100%"],[7],[1,[25,"t",["i18n_assistant_no_longer_available","msg-overlay/templates/components/conversation-bubble"],null],false],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"messaging-base@msg-form/base-form",null,[["classNames","conversation","showExpandedMsgForm","messagingSettings","externallyValid","overridePlaceholder","msgAdapterOptions","prefilledMessage","message","isInMailCompose","beforeUpload","submitMessage","replyToInMail","validateForm","updateFormState"],["msg-form--overlay msg-overlay-conversation-bubble__form relative",[20,["conversation"]],[20,["showExpandedMsgForm"]],[20,["messagingSettings"]],[25,"if",[[20,["bubble","isNew"]],[20,["hasValidRecipients"]],true],null],[25,"if",[[20,["useCustomPlaceholderText"]],[20,["bubble","placeholderText"]],[25,"t",["i18n_write_a_message","msg-overlay/templates/components/conversation-bubble"],null]],null],[20,["msgAdapterOptions"]],[20,["bubble","message"]],[20,["inMailResponse"]],[20,["isInMailCompose"]],[25,"action",[[19,0,[]],"beforeUpload"],null],[25,"action",[[19,0,[]],"submitMessage"],null],[25,"action",[[19,0,[]],"replyToInMail"],null],[25,"action",[[19,0,[]],"validateForm"],null],[25,"action",[[19,0,[]],"updateFormState"],null]]],{"statements":[[4,"if",[[19,3,["showInMailClickReplies"]]],null,{"statements":[[0,"          "],[1,[25,"component",[[19,1,["inmailClickReplies"]]],[["conversation","replyToInMail","hideInMailClickReplies"],[[20,["conversation"]],[25,"action",[[19,0,[]],[19,2,["replyToInMailProxy"]]],null],[25,"action",[[19,0,[]],[19,2,["hideInMailClickReplies"]]],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isInMailCompose"]]],null,{"statements":[[0,"            "],[1,[25,"component",[[19,1,["subjectLineInput"]]],[["subject"],[[19,3,["subject"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"          "],[1,[25,"component",[[19,1,["uploadAttachmentPreviews"]]],[["attachments","removeAttachment"],[[19,3,["attachments"]],[25,"action",[[19,0,[]],[19,2,["removeAttachment"]]],null]]]],false],[0,"\\n\\n"],[4,"if",[[19,3,["showInMailQuickReplies"]]],null,{"statements":[[0,"            "],[1,[25,"component",[[19,1,["inmailQuickReplies"]]],[["conversation","chooseInMailResponse","overridePlaceholderValue"],[[20,["conversation"]],[25,"action",[[19,0,[]],[19,2,["chooseInMailQuickReply"]]],null],[25,"action",[[19,0,[]],[19,2,["overridePlaceholderValue"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[19,3,["enableMentions"]]],null,{"statements":[[4,"if",[[19,3,["showMentionsPicker"]]],null,{"statements":[[0,"              "],[1,[25,"component",[[19,1,["mentionsPicker"]]],[["connectionMentions","conversationMentions","keyDown","selectMentionWithKeyDown","selectMention","closeMentions"],[[19,3,["connectionMentions"]],[19,3,["conversationMentions"]],[25,"action",[[19,0,[]],[19,2,["onMentionsPickerKeyDown"]]],null],[25,"action",[[19,0,[]],[19,2,["selectMentionWithKeyDown"]]],null],[25,"action",[[19,0,[]],[19,2,["selectMention"]]],null],[25,"action",[[19,0,[]],[19,2,["closeMentions"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[1,[25,"component",[[19,1,["messageTextEditor"]]],[["labelText","overridePlaceholder","showPlaceholder","keyDown","focusIn"],[[25,"t",[[20,["a11yText","compose"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[25,"t",[[20,["a11yText","names","key"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["a11yText","names","param"]]]]]]]],[19,3,["overridePlaceholder"]],[19,3,["showPlaceholder"]],[25,"action",[[19,0,[]],[19,2,["onTextEditorKeyDown"]]],null],[25,"action",[[19,0,[]],"msgComposeFocusIn"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[25,"component",[[19,1,["formComposeArea"]]],[["labelText","overridePlaceholder","onFocusIn","message"],[[25,"t",[[20,["a11yText","compose"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[25,"t",[[20,["a11yText","names","key"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["a11yText","names","param"]]]]]]]],[19,3,["overridePlaceholder"]],[25,"action",[[19,0,[]],"msgComposeFocusIn"],null],[19,3,["message"]]]]],false],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[20,["isInMailCompose"]]],null,{"statements":[[0,"            "],[1,[25,"component",[[19,1,["inmailCreditsDisplay"]]],[["recipient"],[[20,["firstRecipient"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n          "],[6,"footer"],[9,"class","msg-form__footer flex-shrink-zero"],[7],[0,"\\n            "],[6,"div"],[9,"class","msg-form__left-actions display-flex"],[7],[0,"\\n"],[4,"if",[[19,3,["showClickReplyBackAction"]]],null,{"statements":[[0,"                "],[6,"button"],[9,"class","msg-form__back-button button-tertiary-small-round-muted mr1"],[10,"title",[25,"t",["i18n_backActionA11yText","msg-overlay/templates/components/conversation-bubble"],null],null],[3,"action",[[19,0,[]],[19,2,["showInMailClickReplies"]]]],[7],[0,"\\n                  "],[6,"span"],[9,"class","a11y-text"],[7],[1,[25,"t",["i18n_backActionA11yText","msg-overlay/templates/components/conversation-bubble"],null],false],[8],[0,"\\n                  "],[1,[25,"li-icon",null,[["type","size"],["arrow-left-icon","small"]]],false],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[1,[25,"component",[[19,1,["uploadAttachment"]]],[["classNames","buttonClasses","icon","acceptTypes","trackingPrefix","addAttachment","beforeUpload","afterUpload"],["mr1","button-tertiary-small-round-muted m0",[25,"li-icon",null,[["type","size","a11y-text"],["image-icon","small",[25,"t",[[20,["a11yText","attachImage"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[25,"t",[[20,["a11yText","names","key"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["a11yText","names","param"]]]]]]]]]]],"image/*","overlay.image",[25,"action",[[19,0,[]],[19,2,["addAttachment"]]],null],[25,"action",[[19,0,[]],[19,2,["beforeUpload"]]],null],[25,"action",[[19,0,[]],[19,2,["validateForm"]]],null]]]],false],[0,"\\n\\n              "],[1,[25,"component",[[19,1,["uploadAttachment"]]],[["buttonClasses","icon","acceptTypes","trackingPrefix","addAttachment","beforeUpload","afterUpload"],["button-tertiary-small-round-muted m0",[25,"li-icon",null,[["type","size","a11y-text"],["paperclip-icon","small",[25,"t",[[20,["a11yText","attachFile"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[25,"t",[[20,["a11yText","names","key"]],"msg-overlay/templates/components/conversation-bubble"],[["names"],[[20,["a11yText","names","param"]]]]]]]]]]],".ai,.psd,.pdf,.doc,.docx,.csv,.zip,.rar,.ppt,.pptx,.pps,.ppsx,.odt,.rtf,.xls,.xlsx,.txt,.pub,.html,.7z,.eml","overlay.file",[25,"action",[[19,0,[]],[19,2,["addAttachment"]]],null],[25,"action",[[19,0,[]],[19,2,["beforeUpload"]]],null],[25,"action",[[19,0,[]],[19,2,["validateForm"]]],null]]]],false],[0,"\\n\\n"],[4,"if",[[19,3,["enableTenorGIF"]]],null,{"statements":[[4,"if",[[19,3,["showGifTooltip"]]],null,{"statements":[[0,"                  "],[1,[25,"messaging-base@gif-onboarding-tooltip",null,[["hasSmallSizeTrigger","dismissTooltip"],[true,[25,"action",[[19,0,[]],[19,2,["dismissGifTooltip"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"                "],[1,[25,"messaging-base@tenor/gif-button",null,[["size","onOpen","handleGIFSend","afterSend"],["small",[25,"action",[[19,0,[]],[19,2,["dismissGifTooltip"]]],null],[25,"action",[[19,0,[]],"handleGIFSend"],null],[25,"action",[[19,0,[]],[19,2,["focusTextarea"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[19,3,["enableEmojiKeyboard"]]],null,{"statements":[[0,"                "],[1,[25,"messaging-base-ext@emoji/emoji-trigger",null,[["trackingPrefix","size","handleEmojiSelect","handleKeyboardClose"],["overlay.","small",[25,"action",[[19,0,[]],[19,2,["updateTextarea"]]],null],[25,"action",[[19,0,[]],[19,2,["focusTextarea"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n            "],[8],[0,"\\n            "],[6,"div"],[9,"class","msg-form__right-actions display-flex"],[7],[0,"\\n              "],[1,[25,"component",[[19,1,["sendControls"]]],[["buttonClass","isEnterToSendEnabled","isValidForm"],["button-tertiary-small",[25,"if",[[20,["showExpandedMsgForm"]],false,[19,3,["pressEnterToSend"]]],null],[19,3,["isValidForm"]]]]],false],[0,"\\n"],[4,"unless",[[20,["showExpandedMsgForm"]]],null,{"statements":[[0,"                "],[1,[25,"component",[[19,1,["sendModeToggle"]]],[["messagingSettings","afterToggleAction"],[[20,["messagingSettings"]],[25,"action",[[19,0,[]],[19,2,["focusTextarea"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[1,2,3]},null],[0,"    "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},null],[8],[0,"\\n\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/conversation-bubble.hbs"}})})),define("msg-overlay/templates/components/list-bubble-item",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"Dr0oYR7J",block:'{"symbols":["latestEvent"],"statements":[[6,"div"],[9,"class","msg-conversation-listitem__link msg-conversations-container__convo-item-link msg-overlay-list-bubble__convo-item-link"],[7],[0,"\\n  "],[6,"div"],[9,"class","msg-conversation-card msg-overlay-list-bubble__convo-card"],[7],[0,"\\n"],[4,"if",[[20,["conversation","hasPresence"]]],null,{"statements":[[0,"      "],[1,[25,"presence@entity-with-presence",null,[["classNames","miniProfile","size"],["msg-conversation-card__presence-entity",[20,["conversation","participants","firstObject","miniProfile"]],2]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["conversation","latestParticipants"]]],null,{"statements":[[0,"      "],[1,[25,"messaging-base@primitives/facepile-grid",null,[["participants","entitySize"],[[20,["conversation","latestParticipants"]],"small"]]],false],[0,"\\n    "]],"parameters":[]},null]],"parameters":[]}],[0,"    "],[6,"div"],[9,"class","msg-conversation-card__content msg-overlay-list-bubble__convo-card-content overflow-hidden"],[7],[0,"\\n      "],[6,"div"],[10,"class",[26,["msg-overlay-list-bubble__convo-card-content-wrapper fl",[25,"if",[[20,["smallContentWidth"]]," msg-overlay-list-bubble__convo-card-content-wrapper--narrow"],null]]]],[7],[0,"\\n        "],[6,"div"],[9,"class","msg-conversation-card__row"],[7],[0,"\\n          "],[6,"h4"],[10,"class",[26,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate ",[25,"if",[[20,["enableBoldUnreadStyle"]],[25,"if",[[20,["isConvoUnread"]],"Sans-15px-black-100%-semibold","Sans-15px-black-70%"],null],"Sans-15px-black-85%-semibold"],null]]]],[7],[0,"\\n"],[4,"if",[[20,["conversation","isSpinMail"]]],null,{"statements":[[0,"              "],[1,[25,"t",["i18n_spinmail_company","msg-overlay/templates/components/list-bubble-item"],[["names"],[[20,["conversation","participantNames"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["conversation","isManyToManyConvo"]]],null,{"statements":[[0,"              "],[1,[25,"if",[[20,["conversation","name"]],[20,["conversation","name"]],[25,"t",["i18n_conversation_names","msg-overlay/templates/components/list-bubble-item"],[["names"],[[20,["conversation","participantNames"]]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[25,"t",["i18n_participant_full_name","msg-overlay/templates/components/list-bubble-item"],[["name"],[[20,["conversation","participantNames"]]]]],false],[0,"\\n            "]],"parameters":[]}]],"parameters":[]}],[0,"          "],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","msg-conversation-card__row"],[7],[0,"\\n          "],[6,"p"],[10,"class",[26,["msg-overlay-list-bubble__message-snippet msg-overlay-participant-headline m0 truncate ",[25,"if",[[20,["enableBoldUnreadStyle"]],[25,"if",[[20,["isConvoUnread"]],"Sans-13px-black-100%-semibold","Sans-13px-black-55%"],null],"Sans-13px-black-55%"],null]]]],[7],[0,"\\n"],[4,"with",[[20,["conversation","latestEvent"]]],null,{"statements":[[0,"              "],[12,"messaging-base@partials/message-snippet",[1]],[0,"\\n"]],"parameters":[1]},null],[0,"          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","msg-conversation-card__conversation-status fr pl2 align-items-center flex-grow-1"],[7],[0,"\\n"],[4,"if",[[20,["conversation","muted"]]],null,{"statements":[[0,"          "],[1,[25,"shared@svg-icon",null,[["class","type","size"],["msg-conversation-card__action-icon mute-icon mt1","mute-icon","small"]]],false],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[20,["conversation","read"]]],null,{"statements":[[0,"          "],[6,"p"],[9,"class","msg-conversation-card__unread-count Sans-13px-white-100%-semibold text-align-center"],[7],[0,"\\n            "],[6,"span"],[10,"aria-label",[26,[[25,"t",["aria_unread_count","msg-overlay/templates/components/list-bubble-item"],[["unreadCount"],[[20,["conversation","unreadCountDisplay"]]]]]]]],[7],[0,"\\n              "],[1,[25,"t",["i18n_unread_count","msg-overlay/templates/components/list-bubble-item"],[["unreadCount"],[[20,["conversation","unreadCountDisplay"]]]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":true}',meta:{moduleName:"msg-overlay/templates/components/list-bubble-item.hbs"}})})),define("msg-overlay/templates/components/list-bubble-search",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"mqrjVqx4",block:'{"symbols":["searchHistory","index","conversation","index","connection","index"],"statements":[[6,"div"],[9,"class","msg-overlay-list-bubble-search__input-container"],[7],[0,"\\n"],[4,"if",[[20,["searchTerm","length"]]],null,{"statements":[[0,"    "],[6,"span"],[9,"aria-hidden","true"],[9,"class","msg-overlay-list-bubble-search__clear-button msg-overlay-list-bubble-search__clear-search-button button-primary-small-muted-round"],[3,"action",[[19,0,[]],"noOp"],[["on"],["mouseDown"]]],[3,"action",[[19,0,[]],"onClearButtonClick"],[["on"],["click"]]],[7],[0,"\\n      "],[1,[25,"shared@li-icon",null,[["type","size"],["cancel-icon","small"]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"span"],[9,"class","visually-hidden"],[7],[0,"\\n      "],[1,[25,"t",["i18n_clear_input","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[6,"label"],[9,"class","a11y-text"],[7],[1,[25,"t",["i18n_find_a_connection","msg-overlay/templates/components/list-bubble-search"],null],false],[8],[0,"\\n  "],[1,[25,"input",null,[["class","placeholder","value","input","insert-newline","focusIn","focusOut"],["msg-overlay-list-bubble-search__search-typeahead-input",[25,"t",["i18n_find_a_connection","msg-overlay/templates/components/list-bubble-search"],null],[20,["searchTerm"]],[25,"action",[[19,0,[]],"onInputChange"],null],[25,"action",[[19,0,[]],"onInputEnterKeyRelease"],null],[25,"action",[[19,0,[]],"onInputFocusIn"],null],[25,"action",[[19,0,[]],"onInputFocusOut"],null]]]],false],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[10,"class",[26,["msg-overlay-list-bubble-search-content",[25,"unless",[[20,["inputHasFocus"]]," hidden"],null]]]],[7],[0,"\\n"],[4,"if",[[20,["shouldShowSearchResults"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","msg-overlay-list-bubble-search__search-result-container"],[3,"action",[[19,0,[]],"noOp"],[["on"],["mouseDown"]]],[7],[0,"\\n"],[4,"if",[[20,["shouldShowNoResultView"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","msg-overlay-list-bubble-search__no-result-container text-align-center"],[7],[0,"\\n          "],[6,"div"],[9,"class","msg-overlay-list-bubble-search__no-result-illustration"],[7],[8],[0,"\\n          "],[6,"p"],[7],[0,"\\n            "],[1,[25,"t",["i18n_no_search_results","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["displayedConnections","length"]]],null,{"statements":[[0,"          "],[6,"header"],[9,"class","msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[7],[0,"\\n            "],[6,"h6"],[9,"class","msg-overlay-list-bubble__list-header-title Sans-13px-black-55%-semibold truncate"],[7],[0,"\\n              "],[1,[25,"t",["i18n_connections_matched","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n          "],[6,"ul"],[9,"class","msg-overlay-list-bubble-search__connection-search-result-list"],[7],[0,"\\n"],[4,"each",[[20,["displayedConnections"]]],null,{"statements":[[0,"              "],[1,[25,"msg-overlay@search-connection-item",null,[["class","itemIndex","profile","caption","click","mouseMove"],[[25,"if",[[25,"shared@eq",[[19,6,[]],[20,["highlightedItemIndex"]]],null],"msg-overlay-list-bubble-search__list-item--selected"],null],[19,6,[]],[19,5,["miniProfile"]],[19,5,["caption"]],[25,"action",[[19,0,[]],"onConnectionSearchResultSelect",[19,5,["miniProfile"]]],null],[25,"action",[[19,0,[]],"onListItemMouseMove",[19,6,[]],false],null]]]],false],[0,"\\n"]],"parameters":[5,6]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["matchedConversations","length"]]],null,{"statements":[[0,"          "],[6,"header"],[9,"class","msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[7],[0,"\\n            "],[6,"h6"],[9,"class","msg-overlay-list-bubble__list-header-title Sans-13px-black-55%-semibold truncate"],[7],[0,"\\n              "],[1,[25,"t",["i18n_conversation_history","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n          "],[6,"ul"],[9,"class","msg-overlay-list-bubble-search__content-search-result-list"],[7],[0,"\\n"],[4,"each",[[20,["matchedConversations"]]],null,{"statements":[[4,"if",[[19,3,["isSpinMail"]]],null,{"statements":[[4,"link-to-external",["messaging.thread",[19,3,["id"]]],[["data-control-name","ariaRole"],["view_message","button"]],{"statements":[[0,"                  "],[1,[25,"msg-overlay@list-bubble-item",null,[["class","conversation","mouseMove","findConversationEvents"],[[25,"concat",["msg-overlay-list-bubble-search__list-item",[25,"if",[[25,"shared@eq",[[19,4,[]],[20,["highlightedConversationResultIndex"]]],null]," msg-overlay-list-bubble__convo-item--selected"],null]],null],[19,3,[]],[25,"action",[[19,0,[]],"onListItemMouseMove",[19,4,[]],true],null],[20,["findConversationEvents"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"                "],[1,[25,"msg-overlay@list-bubble-item",null,[["class","conversation","openBubble","mouseMove","findConversationEvents"],[[25,"concat",["msg-overlay-list-bubble-search__list-item",[25,"if",[[25,"shared@eq",[[19,4,[]],[20,["highlightedConversationResultIndex"]]],null]," msg-overlay-list-bubble__convo-item--selected"],null]],null],[19,3,[]],[25,"action",[[19,0,[]],"onContentSearchResultSelect"],null],[25,"action",[[19,0,[]],"onListItemMouseMove",[19,4,[]],true],null],[20,["findConversationEvents"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[3,4]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["searchHistories","length"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","msg-overlay-list-bubble-search__history-container"],[3,"action",[[19,0,[]],"noOp"],[["on"],["mouseDown"]]],[7],[0,"\\n        "],[6,"header"],[9,"class","msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[7],[0,"\\n          "],[6,"h6"],[9,"class","msg-overlay-list-bubble__list-header-title Sans-13px-black-55%-semibold truncate"],[7],[0,"\\n            "],[1,[25,"t",["i18n_recent_searches","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n          "],[8],[0,"\\n"],[4,"if",[[20,["shouldShowClearConfirmBtn"]]],null,{"statements":[[0,"            "],[6,"button"],[9,"class","msg-overlay-list-bubble__clear-search-history-confirm-btn msg-overlay-list-bubble__clear-search-history-btn--fadein Sans-13px-black-55%-semibold display-flex"],[3,"action",[[19,0,[]],"onSearchHistoryClearConfirmButtonClick"]],[7],[0,"\\n              "],[1,[25,"t",["i18n_clear","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"button"],[9,"class","msg-overlay-list-bubble-search__clear-button msg-overlay-list-bubble__clear-search-history-btn button-primary-small-muted-round display-flex"],[3,"action",[[19,0,[]],"onSearchHistoryClearButtonClick"]],[7],[0,"\\n              "],[1,[25,"shared@li-icon",null,[["type","size"],["cancel-icon","small"]]],false],[0,"\\n            "],[8],[0,"\\n            "],[6,"span"],[9,"class","visually-hidden"],[7],[0,"\\n              "],[1,[25,"t",["i18n_clear_search_history","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]}],[0,"        "],[8],[0,"\\n        "],[6,"ul"],[9,"class","msg-overlay-list-bubble-search__history-list"],[7],[0,"\\n"],[4,"each",[[20,["searchHistories"]]],null,{"statements":[[4,"if",[[25,"shared@eq",[[19,1,["searchType"]],"PEOPLE"],null]],null,{"statements":[[0,"              "],[1,[25,"msg-overlay@search-connection-item",null,[["class","profile","caption","click","mouseMove"],[[25,"if",[[25,"shared@eq",[[19,2,[]],[20,["highlightedItemIndex"]]],null],"msg-overlay-list-bubble-search__list-item--selected"],null],[19,1,["historyInfo","profile"]],[19,1,["historyInfo","profile","occupation"]],[25,"action",[[19,0,[]],"onProfileSearchHistoryClick",[19,1,["historyInfo","profile"]]],null],[25,"action",[[19,0,[]],"onListItemMouseMove",[19,2,[]],false],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[25,"msg-overlay@query-history-item",null,[["class","queryKeyword","click","mouseMove"],[[25,"if",[[25,"shared@eq",[[19,2,[]],[20,["highlightedItemIndex"]]],null],"msg-overlay-list-bubble-search__list-item--selected"],null],[19,1,["historyInfo","parameters","firstObject","value"]],[25,"action",[[19,0,[]],"onKeywordSearchHistoryClick",[19,1,["historyInfo","parameters","firstObject","value"]]],null],[25,"action",[[19,0,[]],"onListItemMouseMove",[19,2,[]],false],null]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[1,2]},null],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"div"],[9,"class","msg-overlay-list-bubble-search__history-placeholder-container text-align-center"],[7],[0,"\\n        "],[6,"div"],[9,"class","msg-overlay-list-bubble-search__history-placeholder-illustration"],[7],[8],[0,"\\n        "],[6,"p"],[9,"class","Sans-13px-black-55% ph2"],[7],[0,"\\n          "],[1,[25,"t",["i18n_search_your_messages","msg-overlay/templates/components/list-bubble-search"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/list-bubble-search.hbs"}})})),define("msg-overlay/templates/components/list-bubble",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"SIKl9lvr",block:'{"symbols":["conversation","suggestion","index","card"],"statements":[[6,"header"],[10,"class",[26,["msg-overlay-bubble-header",[25,"if",[[20,["hasBadge"]],[25,"concat",[" msg-overlay-bubble-header--inverse ","msg-overlay-bubble-header--is-badged"],null]],null]]]],[10,"data-control-name",[25,"if",[[20,["isMinimized"]],"overlay.maximize_connection_list_bar","overlay.minimize_connection_list_bar"],null],null],[3,"action",[[19,0,[]],"toggleMinimize",[25,"tracking",null,[["control-name"],[[25,"if",[[20,["isMinimized"]],"overlay.maximize_connection_list_bar","overlay.minimize_connection_list_bar"],null]]]]]],[7],[0,"\\n\\n  "],[6,"section"],[9,"class","msg-overlay-bubble-header__details flex-row align-items-center"],[7],[0,"\\n"],[4,"if",[[20,["showUnseenCount"]]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","msg-conversation-card__unread-count msg-overlay-bubble-header__unread-count Sans-13px-white-100%-semibold text-align-center mr2"],[7],[0,"\\n        "],[1,[18,"unseenMsgCount"],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"presence@presence-indicator",null,[["miniProfile","classNames","pillarKey","size"],[[20,["authenticatedUser","miniProfile"]],"mr2","MESSAGING",2]]],false],[0,"\\n"]],"parameters":[]}],[0,"\\n    "],[6,"h4"],[9,"class","msg-overlay-bubble-header__primary-text truncate Sans-15px-black-85%"],[7],[1,[25,"t",["messaging","msg-overlay/templates/components/list-bubble"],null],false],[8],[0,"\\n\\n"],[4,"if",[[20,["enableRealtimeConnectionStatus"]]],null,{"statements":[[0,"      "],[1,[25,"li-icon",null,[["type","class"],["flash-on-icon",[25,"concat",["msg-overlay-bubble-header__realtime-indicator ",[20,["realtimeStatusClassName"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n\\n  "],[6,"section"],[9,"class","msg-overlay-bubble-header__controls"],[7],[0,"\\n    "],[6,"button"],[9,"class","msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn"],[9,"data-control-name","overlay.compose_message"],[3,"action",[[19,0,[]],"createNewConvoPVE"],[["bubbles"],[false]]],[7],[0,"\\n      "],[6,"span"],[9,"class","visually-hidden"],[7],[1,[25,"t",["a11y_compose","msg-overlay/templates/components/list-bubble"],null],false],[8],[0,"\\n      "],[1,[25,"shared@li-icon",null,[["type","size"],["compose-icon","small"]]],false],[0,"\\n    "],[8],[0,"\\n\\n"],[4,"artdeco-hoverable-trigger",null,[["on","onClick"],["click",[25,"action",[[19,0,[]],"settingsBtnStopEvtPropagation"],null]]],{"statements":[[0,"      "],[6,"button"],[9,"class","msg-overlay-bubble-header__control msg-overlay-bubble-header__control--settings-btn"],[10,"aria-expanded",[26,[[19,4,["ariaExpanded"]]]]],[10,"aria-controls",[26,[[19,4,["ariaId"]]]]],[9,"data-control-name","overlay.connection_list_settings"],[7],[0,"\\n        "],[6,"span"],[9,"class","visually-hidden"],[7],[1,[25,"t",["a11y_popup_settings","msg-overlay/templates/components/list-bubble"],null],false],[8],[0,"\\n        "],[1,[25,"shared@li-icon",null,[["type","size"],["gear-icon","small"]]],false],[0,"\\n      "],[8],[0,"\\n"],[4,"component",[[19,4,["artdeco-hovercard-content"]]],[["contentClass"],[[25,"concat",["msg-overlay-bubble-header__settings-hovercard",[25,"if",[[20,["listExpanded"]]," msg-overlay-bubble-header__settings-hovercard--fixed-when-open"],null]],null]]],{"statements":[[0,"        "],[6,"div"],[9,"class","pr4 mb2"],[7],[0,"\\n          "],[6,"h3"],[9,"class","Sans-17px-black-85%-semibold pb2"],[7],[1,[25,"t",["i18n_messaging_settings","msg-overlay/templates/components/list-bubble"],null],false],[8],[0,"\\n          "],[6,"div"],[9,"class","display-flex align-items-baseline"],[7],[0,"\\n            "],[6,"p"],[9,"class","Sans-15px-black-70% flex-grow-1"],[9,"for","msg-overlay-bubble-header__popups-toggle"],[7],[0,"\\n              "],[1,[25,"t",["i18n_auto_open_messages","msg-overlay/templates/components/list-bubble"],null],false],[0,"\\n            "],[8],[0,"\\n            "],[1,[25,"shared@toggle-switch",null,[["toggleSizeClass","toggleMessageClass","controlName","toggleMessageWhenChecked","toggleMessageWhenUnchecked","inputId","a11y-text","isChecked","onInteraction"],["toggle-24dp","Sans-15px-black-70%",[25,"if",[[20,["popupsAreEnabled"]],"overlay.instant_messaging_setting_off","overlay.instant_messaging_setting_on"],null],[25,"t",["i18n_setting_on","msg-overlay/templates/components/list-bubble"],null],[25,"t",["i18n_setting_off","msg-overlay/templates/components/list-bubble"],null],"msg-overlay-bubble-header__popups-toggle",[25,"t",["a11y_toggle_popup_settings","msg-overlay/templates/components/list-bubble"],null],[20,["popupsAreEnabled"]],[25,"action",[[19,0,[]],[20,["saveSettings"]]],null]]]],false],[0,"\\n          "],[8],[0,"\\n          "],[6,"div"],[9,"class","display-flex align-items-baseline"],[7],[0,"\\n            "],[6,"p"],[9,"class","Sans-15px-black-70% flex-grow-1"],[9,"for","msg-overlay-bubble-header__sounds-toggle"],[7],[0,"\\n              "],[1,[25,"t",["i18n_sounds","msg-overlay/templates/components/list-bubble"],null],false],[0,"\\n            "],[8],[0,"\\n            "],[1,[25,"shared@toggle-switch",null,[["toggleSizeClass","toggleMessageClass","controlName","toggleMessageWhenChecked","toggleMessageWhenUnchecked","inputId","a11y-text","isChecked","onInteraction"],["toggle-24dp","Sans-15px-black-70%",[25,"if",[[20,["soundsEnabled"]],"overlay.sounds_off","overlay.sounds_on"],null],[25,"t",["i18n_setting_on","msg-overlay/templates/components/list-bubble"],null],[25,"t",["i18n_setting_off","msg-overlay/templates/components/list-bubble"],null],"msg-overlay-bubble-header__sounds-toggle",[25,"t",["a11y_toggle_sound_settings","msg-overlay/templates/components/list-bubble"],null],[20,["soundsEnabled"]],[25,"action",[[19,0,[]],[20,["saveSettings"]]],null]]]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","msg-overlay-bubble-header__settings-links display-flex align-items-center pr4 pt3"],[7],[0,"\\n"],[4,"shared@external-link",null,[["href","control-name","target","class"],["/psettings/presence","overlay.manage_status","_blank","msg-overlay-bubble-header__settings-links--active-status link-without-hover-visited flex-grow-1"]],{"statements":[[0,"            "],[6,"p"],[9,"class","Sans-15px-black-70%-semibold"],[7],[1,[25,"t",["i18n_active_settings","msg-overlay/templates/components/list-bubble"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"          "],[1,[25,"shared@li-icon",null,[["type","size"],["chevron-right-icon","small"]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[4]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"section"],[10,"class",[26,["msg-overlay-list-bubble__content",[25,"if",[[20,["showDefaultConversationList"]]," msg-overlay-list-bubble__content--scrollable"],null]]]],[7],[0,"\\n  "],[1,[25,"msg-overlay@list-bubble-search",null,[["displayDefaultConversationList","openNewConversation","openBubble","findConversationEvents"],[[25,"action",[[19,0,[]],"displayDefaultConversationList"],null],[20,["newConversation"]],[20,["openBubble"]],[25,"action",[[19,0,[]],[20,["findConversationEvents"]],[20,["conversation"]]],null]]]],false],[0,"\\n\\n"],[4,"if",[[20,["shouldRenderContent"]]],null,{"statements":[[4,"if",[[20,["showFailedState"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","msg-overlay-list-bubble__failed-to-connect-container text-align-center"],[7],[0,"\\n        "],[6,"h3"],[9,"class","Sans-17px-black-70% ph3 pb5"],[7],[0,"\\n          "],[1,[25,"t",["i18n_failed_connect","msg-overlay/templates/components/list-bubble"],null],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"button"],[9,"class","button-secondary-medium"],[9,"data-control-name","overlay.retry"],[3,"action",[[19,0,[]],[20,["refetchOverlayData"]],[25,"tracking",null,[["control-name"],["overlay.retry"]]]]],[7],[0,"\\n          "],[1,[25,"t",["i18n_try_again","msg-overlay/templates/components/list-bubble"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["dataLoaded"]]],null,{"statements":[[0,"      "],[6,"div"],[10,"class",[26,["msg-overlay-list-bubble-default-conversation-container",[25,"unless",[[20,["showDefaultConversationList"]]," visually-hidden"],null]]]],[7],[0,"\\n"],[4,"if",[[20,["showInmailBanner"]]],null,{"statements":[[0,"          "],[6,"header"],[9,"class","msg-overlay-list-bubble__list-header"],[7],[0,"\\n            "],[6,"h6"],[9,"class","msg-overlay-list-bubble__list-header-title Sans-13px-black-55% truncate"],[7],[0,"\\n              "],[1,[25,"t",["i18n_opportunities","msg-overlay/templates/components/list-bubble"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"],[4,"link-to-external",["messaging.thread",[20,["firstUnreadInmail","id"]],[25,"query-params",null,[["filter"],["INMAIL"]]]],[["data-control-name","class"],["overlay.inmail_banner_view_all","msg-overlay-list-bubble__inmail-banner-link link-without-hover-visited pt1"]],{"statements":[[0,"            "],[6,"div"],[9,"class","msg-overlay-list-bubble__inmail-banner display-flex align-items-center p2"],[7],[0,"\\n              "],[6,"div"],[9,"class","msg-overlay-list-bubble__inmail-illustration flex-none"],[7],[8],[0,"\\n              "],[6,"h4"],[9,"class","Sans-15px-black-85%-semibold pl1 pr1"],[7],[0,"\\n                "],[1,[25,"shared@truncate-multiline",null,[["text","lines","showButton"],[[25,"t",["i18n_you_have_unread_inmail_messages","msg-overlay/templates/components/list-bubble"],[["unreadCount"],[[20,["filteredUnreadOpportunities","length"]]]]],2,false]]],false],[0,"\\n              "],[8],[0,"\\n              "],[1,[25,"shared@li-icon",null,[["type","size","class"],["chevron-right-icon","small","msg-overlay-list-bubble__inmail-chevron flex-none"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showAbiFlow"]]],null,{"statements":[[0,"          "],[1,[25,"msg-overlay@abi-flow",null,[["isAbiComplete"],[[20,["isAbiComplete"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["showNoviceState"]]],null,{"statements":[[0,"          "],[1,[25,"msg-overlay@novice-state",null,[["memberConnections","newConversation"],[[20,["memberConnections"]],[25,"action",[[19,0,[]],"createNewConvoPVE"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["suggestedRecipients"]]],null,{"statements":[[0,"            "],[6,"div"],[10,"class",[26,["msg-overlay-list-bubble__contextual ",[25,"if",[[20,["isMinimized"]],"msg-overlay-list-bubble__contextual--minimized"],null]]]],[7],[0,"\\n              "],[6,"header"],[9,"class","msg-overlay-list-bubble__list-header"],[7],[0,"\\n"],[4,"if",[[20,["isFeedContext"]]],null,{"statements":[[0,"                  "],[1,[25,"shared@truncate-multiline",null,[["text","lines","tagName","classNames","showButton"],[[25,"t",["i18n_connection_to_context_article","msg-overlay/templates/components/list-bubble"],[["count"],[[20,["suggestedRecipients","length"]]]]],2,"h6","msg-overlay-list-bubble__list-header-title msg-overlay-list-bubble__list-header-title-suggestions msg-overlay-list-bubble__list-header-title-suggestions--feed-update Sans-13px-black-55%",false]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[6,"h6"],[9,"class","msg-overlay-list-bubble__list-header-title msg-overlay-list-bubble__list-header-title-suggestions Sans-13px-black-55% truncate"],[7],[0,"\\n                    "],[1,[25,"if",[[20,["isProfileContext"]],[25,"t",["i18n_connection_to_context_actor_member","msg-overlay/templates/components/list-bubble"],[["count","memberName"],[[20,["suggestedRecipients","length"]],[20,["contextActor","name"]]]]],[25,"t",["i18n_connection_to_context_actor_company","msg-overlay/templates/components/list-bubble"],[["count","companyName"],[[20,["suggestedRecipients","length"]],[20,["contextActor"]]]]]],null],false],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[]}],[0,"              "],[8],[0,"\\n              "],[6,"ul"],[9,"class","msg-conversations-container__conversations-list msg-overlay-list-bubble__conversations-list"],[7],[0,"\\n"],[4,"each",[[20,["slicedSuggestedRecipients"]]],null,{"statements":[[0,"                  "],[1,[25,"msg-overlay@recommendation-card",null,[["suggestion","actor","contextType","contextEntityUrn","showingAllSuggestions","listPosition","messageRecommendation","isFeedContext"],[[19,2,[]],[20,["contextActor"]],[20,["contextType"]],[20,["contextEntityUrn"]],[20,["showRemainingSuggestions"]],[19,3,[]],[25,"action",[[19,0,[]],"messageRecommendation"],null],[20,["isFeedContext"]]]]],false],[0,"\\n"]],"parameters":[2,3]},null],[0,"              "],[8],[0,"\\n"],[4,"if",[[20,["hasMoreSuggestedRecipients"]]],null,{"statements":[[0,"                "],[6,"button"],[9,"class","full-width pv2 Sans-13px-black-55%-semibold"],[3,"action",[[19,0,[]],"toggleRemainingSuggestedRecipients"]],[7],[0,"\\n                  "],[6,"span"],[9,"class","msg-overlay-list-bubble__view-more-suggestions display-flex justify-center full-width"],[7],[0,"\\n                    "],[1,[25,"t",[[25,"if",[[20,["showRemainingSuggestions"]],"close","view_all"],null],"msg-overlay/templates/components/list-bubble"],null],false],[0,"\\n                    "],[1,[25,"shared@li-icon",null,[["type","size","class"],[[25,"if",[[20,["showRemainingSuggestions"]],"chevron-up-icon","chevron-down-icon"],null],"small","ml1"]]],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["hasConversations"]]],null,{"statements":[[4,"if",[[20,["showRecentLabel"]]],null,{"statements":[[0,"              "],[6,"header"],[9,"class","msg-overlay-list-bubble__list-header"],[7],[0,"\\n                "],[6,"h6"],[9,"class","msg-overlay-list-bubble__list-header-title Sans-13px-black-55% truncate"],[7],[0,"\\n                  "],[1,[25,"t",["recent","msg-overlay/templates/components/list-bubble"],null],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[6,"ul"],[9,"class","msg-conversations-container__conversations-list msg-overlay-list-bubble__conversations-list"],[7],[0,"\\n"],[4,"each",[[20,["conversations"]]],null,{"statements":[[4,"if",[[19,1,["isSpinMail"]]],null,{"statements":[[4,"link-to-external",["messaging.thread",[19,1,["id"]]],[["data-control-name","class","ariaRole"],["view_message","link-without-hover-state","button"]],{"statements":[[0,"                    "],[1,[25,"msg-overlay@list-bubble-item",null,[["class","conversation","enableBoldUnreadStyle","findConversationEvents"],["msg-overlay-list-bubble__convo-item--hoverable",[19,1,[]],[20,["enableBoldUnreadStyle"]],[25,"action",[[19,0,[]],[20,["findConversationEvents"]],[19,1,[]]],null]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"                  "],[1,[25,"msg-overlay@list-bubble-item",null,[["class","conversation","openBubble","enableBoldUnreadStyle","findConversationEvents"],["msg-overlay-list-bubble__convo-item--hoverable",[19,1,[]],[20,["openBubble"]],[20,["enableBoldUnreadStyle"]],[25,"action",[[19,0,[]],[20,["findConversationEvents"]],[19,1,[]]],null]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[1]},null],[0,"              "],[6,"li"],[10,"class",[26,["msg-overlay-list-bubble__loader",[25,"unless",[[20,["isLoading"]]," hidden"],null]]]],[7],[0,"\\n                "],[1,[25,"shared@li-icon",null,[["type","size","class"],["loader","small","blue loader"]]],false],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[]}]],"parameters":[]}],[0,"      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"shared@li-icon",null,[["type","size","class"],["loader","small","blue full-width msg-overlay-list-bubble__loading-state"]]],false],[0,"\\n    "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/list-bubble.hbs"}})})),define("msg-overlay/templates/components/messaging-overlay-container",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"6Fw9nHH8",block:'{"symbols":["bubble"],"statements":[[1,[25,"msg-overlay@list-bubble",null,[["class","hasUnseenItems","unseenMsgCount","memberConnections","numConnections","isAbiComplete","realtimeMsgNotAutoOpened","unreadOpportunities","conversations","showFailedState","dataLoaded","suggestedRecipients","contextType","contextActor","contextEntityUrn","popupsAreEnabled","soundsEnabled","forcedMinimize","markAllAsSeen","openBubble","newConversation","loadMore","findConversationEvents","saveSettings","refetchOverlayData"],["mh4",[20,["hasUnseenItems"]],[20,["unseenMsgCount"]],[20,["memberConnections"]],[20,["numConnections"]],[20,["isAbiComplete"]],[20,["realtimeMsgNotAutoOpened"]],[20,["unreadInmails"]],[20,["sortedConversations"]],[20,["showFailedState"]],[20,["dataLoaded"]],[20,["suggestedRecipients"]],[20,["contextType"]],[20,["contextActor"]],[20,["contextEntityUrn"]],[20,["popupsAreEnabled"]],[20,["soundsEnabled"]],[20,["forcedMinimize"]],[25,"action",[[19,0,[]],"markAllAsSeen"],null],[25,"action",[[19,0,[]],"openConversation"],null],[25,"action",[[19,0,[]],"newConversation"],null],[25,"action",[[19,0,[]],"loadMoreConversations"],null],[25,"action",[[19,0,[]],"findConversationEvents"],null],[25,"action",[[19,0,[]],"saveSettings"],null],[25,"action",[[19,0,[]],"refetchOverlayData"],null]]]],false],[0,"\\n\\n"],[4,"each",[[20,["openBubbles"]]],null,{"statements":[[0,"  "],[1,[25,"msg-overlay@conversation-bubble",null,[["class","bubble","forcedMinimize","autoSend","placeholderText","msgAdapterOptions","messagingSettings","soundsEnabled","closeBubble","resizeBubble","submitMessage","resendMessage","sendTypingIndicator","markConversationAsRead","markAllAsSeen","loadMore","updateDraftState","increaseNumPendingConvoPVEvents","syncCachedConvos","handleSuccessfulDiscardRequest","toggleConversationMute","saveConversationName"],["ml4",[19,1,[]],[20,["forcedMinimize"]],[19,1,["autoSend"]],[19,1,["placeholderText"]],[19,1,["msgAdapterOptions"]],[20,["messagingSettings"]],[20,["soundsEnabled"]],[25,"action",[[19,0,[]],"closeBubble",[19,1,[]]],null],[25,"action",[[19,0,[]],"resizeBubble",[19,1,[]]],null],[25,"action",[[19,0,[]],"submitMessage",[19,1,[]]],null],[25,"action",[[19,0,[]],"resendMessage"],null],[25,"action",[[19,0,[]],"sendTypingIndicator",[19,1,[]]],null],[25,"action",[[19,0,[]],"markConversationAsRead",[19,1,[]]],null],[25,"action",[[19,0,[]],"markAllAsSeen"],null],[25,"action",[[19,0,[]],"loadMoreMessages"],null],[25,"action",[[19,0,[]],"updateDraftState",[19,1,[]]],null],[25,"action",[[19,0,[]],"increaseNumPendingConvoPVEvents"],null],[25,"action",[[19,0,[]],"syncCachedConvos"],null],[25,"action",[[19,0,[]],"handleSuccessfulDiscardRequest"],null],[25,"action",[[19,0,[]],"toggleConversationMute",[19,1,["conversation"]]],null],[25,"action",[[19,0,[]],"saveConversationName",[19,1,["conversation"]]],null]]]],false],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/messaging-overlay-container.hbs"}})})),define("msg-overlay/templates/components/novice-state",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"ADbwE8E+",block:'{"symbols":["connection"],"statements":[[4,"if",[[20,["memberConnections"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","msg-overlay-novice-state__connections-facepile mb4"],[7],[0,"\\n"],[4,"each",[[20,["memberConnections"]]],null,{"statements":[[0,"      "],[1,[25,"lazy-image",null,[["image","class","mprWidth","ghostType","width"],[[19,1,["miniProfile","picture"]],"EntityPhoto-circle-2-stackedFacepile","100","person","40"]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[8],[0,"\\n  "],[6,"h4"],[9,"class","Sans-17px-black-85%-semibold mb3"],[7],[1,[25,"t",["i18n_reach_out","msg-overlay/templates/components/novice-state"],null],false],[8],[0,"\\n  "],[6,"p"],[9,"class","Sans-15px-black-55% mb5"],[7],[1,[25,"t",["i18n_has_connections","msg-overlay/templates/components/novice-state"],null],false],[8],[0,"\\n  "],[6,"button"],[9,"class","button-primary-medium"],[3,"action",[[19,0,[]],[20,["newConversation"]]]],[7],[0,"\\n    "],[1,[25,"t",["i18n_send_message","msg-overlay/templates/components/novice-state"],null],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"p"],[9,"class","Sans-15px-black-55%"],[7],[1,[25,"t",["i18n_no_connections","msg-overlay/templates/components/novice-state"],null],false],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/novice-state.hbs"}})})),define("msg-overlay/templates/components/query-history-item",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"mNnsPZIY",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","msg-overlay-list-bubble-search__history-keyword-icon display-flex flex-shrink-zero align-items-center justify-center round"],[7],[0,"\\n  "],[1,[25,"shared@li-icon",null,[["type","size"],["tag-icon","small"]]],false],[0,"\\n"],[8],[0,"\\n"],[6,"p"],[9,"class","Sans-13px-black-85%-semibold pl2 truncate"],[7],[0,"\\n  "],[1,[18,"queryKeyword"],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/query-history-item.hbs"}})})),define("msg-overlay/templates/components/recommendation-card",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"JCVt5jK9",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","msg-conversation-listitem__link msg-conversations-container__convo-item-link msg-overlay-list-bubble__convo-item-link"],[7],[0,"\\n  "],[6,"div"],[9,"class","msg-conversation-card msg-overlay-list-bubble__convo-card"],[7],[0,"\\n    "],[6,"div"],[9,"class","msg-facepile-grid msg-facepile-grid--no-facepile"],[7],[0,"\\n      "],[1,[25,"presence@entity-with-presence",null,[["classNames","miniProfile","size"],["msg-conversation-card__presence-entity",[20,["recipientProfile"]],2]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","msg-conversation-card__content msg-overlay-list-bubble__contextual-convo-card-content"],[7],[0,"\\n      "],[6,"h4"],[9,"class","msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate Sans-15px-black-85%-semibold"],[7],[0,"\\n        "],[1,[25,"format-name",null,[["firstName","lastName","type"],[[25,"unbound",[[20,["recipientProfile","name","firstName"]]],null],[25,"unbound",[[20,["recipientProfile","name","lastName"]]],null],"full"]]],false],[0,"\\n      "],[8],[0,"\\n\\n      "],[6,"span"],[9,"class","msg-overlay-list-bubble__message-snippet msg-overlay-list-bubble__recommendation-headline m0 Sans-13px-black-55% block truncate"],[7],[0,"\\n        "],[1,[20,["recipientProfile","occupation"]],false],[0,"\\n      "],[8],[0,"\\n\\n"],[4,"unless",[[20,["isFeedContext"]]],null,{"statements":[[4,"if",[[20,["suggestion","reasons"]]],null,{"statements":[[0,"          "],[6,"span"],[9,"class","msg-overlay-list-bubble__recommendation-reason Sans-13px-black-55%-italic block truncate mt1"],[7],[0,"\\n            "],[1,[25,"if",[[20,["suggestion","isCurrentEmployee"]],[25,"t",["works_at","msg-overlay/templates/components/recommendation-card"],[["actor"],[[20,["actor"]]]]],[25,"if",[[20,["suggestion","isPreviousEmployee"]],[25,"t",["has_worked_at","msg-overlay/templates/components/recommendation-card"],[["actor"],[[20,["actor"]]]]],[25,"if",[[20,["suggestion","isConnectingMember"]],[25,"t",["knows_people_at","msg-overlay/templates/components/recommendation-card"],[["connectionCount","actor"],[[20,["suggestion","suggestionReason","numSecondDegreeMembers"]],[20,["actor"]]]]]],null]],null]],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/recommendation-card.hbs"}})})),define("msg-overlay/templates/components/search-connection-item",["exports"],(function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"hWe2stZz",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","msg-overlay-search-result-picture circle display-flex flex-shrink-zero"],[7],[0,"\\n  "],[1,[25,"shared@lazy-background",null,[["classNames","image","alt","ghostType","mprWidth"],["msg-overlay-search-result-picture__background-img full-width full-height round",[20,["profile","picture"]],[25,"t",["i18n_fullname","msg-overlay/templates/components/search-connection-item"],[["name"],[[20,["profile","name"]]]]],"person","100"]]],false],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[9,"class","display-flex overflow-hidden pv1 pl2"],[7],[0,"\\n  "],[6,"h4"],[9,"class","msg-overlay-search-result-name Sans-13px-black-85%-semibold flex-shrink-zero truncate"],[7],[0,"\\n    "],[1,[25,"t",["i18n_fullname","msg-overlay/templates/components/search-connection-item"],[["name"],[[20,["profile","name"]]]]],false],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["caption"]]],null,{"statements":[[0,"    "],[6,"span"],[9,"class","Sans-13px-black-55% flex-shrink-zero ph1 truncate"],[7],[1,[25,"t",["dot","msg-overlay/templates/components/search-connection-item"],null],false],[8],[0,"\\n    "],[6,"p"],[9,"class","Sans-13px-black-55% truncate"],[7],[0,"\\n      "],[1,[18,"caption"],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-overlay/templates/components/search-connection-item.hbs"}})})),define("msg-overlay/utils/engine-dependencies",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MESSAGING_OVERLAY_SERVICES=["a11yNotification","artdeco/toast","authenticatedUser","data-layer@identity-store","feed-action-event","focusFlag","formatter","gdpr-notice@gdpr-notice","jet","heathrow","i18n","lego-tracking","lix","local-storage","locale","main-nav","media-upload","modal","modal-dialog","mpr","notification-manager","presence@presence-api","router","rum","scheduler","shared@realtime-api","shared-ext@document-title","shared-ext@first-message","shared-ext@messaging-overlay","store","tracking","toast-manager","unifiedEventHandler","viewport"],e.MESSAGING_OVERLAY_EXTERNAL_ROUTES=["feed.update","profile.view","mynetwork.index","mynetwork.invitation-manager.pending","mynetwork.invite-connect.connections","mynetwork.invitation-manager","companies.company","entities-jymbii","entities-school","feed-ca.share-analytics","feed-ge.category.task","feed.comment","feed.comment-likes","feed.comment-rmview","feed.share","feed.topic-feed.by-keyword","feed.topic-feed.by-id","feed.update.likes","feed.update.reshare.message","feed.update.reshare.share","feed.update.rmview","jobs","jobs.index","jobs.job","jobs.jymbii","jobs.view","me.profile-views","me.share-analytics","mynetwork","mynetwork.abi","mynetwork.add-connections","notifications.index","profile-edit.hub","profile-edit.topcard","profile-subroutes.detail-connections.shared","profile-subroutes.detail-recent-activity","profile-subroutes.detail-recent-activity.posts","profile-subroutes.detail-recent-activity.shares","schools.school","search.index","search.results.content","search.results.index"]})),define("msg-overlay/utils/recommendation-helpers",["exports","msg-shared/utils/constants"],(function(e,t){"use strict"
var n
function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.USECASE_PARTIAL_LOOKUP=void 0,e.normalizeUsecase=function(e,t){return c[e]+"_"+(t?"FULL":"SHORT")}
var a=t.OVERLAY.CONTEXT_TYPES,i=a.FEED_CONTEXT,o=a.JOB_CONTEXT,l=a.COMPANY_CONTEXT,r=a.PROFILE_CONTEXT,c=e.USECASE_PARTIAL_LOOKUP=(s(n={},i,"ARTICLE_SHARE_OVERLAY"),s(n,o,"OVERLAY_JOB"),s(n,l,"OVERLAY_COMPANY"),s(n,r,"OVERLAY_PROFILE"),n)})),define("msg-overlay/utils/suggested-recipients",["exports","msg-overlay/utils/recommendation-helpers","msg-shared/utils/constants"],(function(e,t,n){"use strict"
function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.getContextType=function(e){var t=h[e.get("currentRouteName")]||null
t===m&&e.get(v)!==p&&(t=null)
return t},e.getContextActor=function(e,t){var n=e.get(b)
if(!t||!n)return null
var s=void 0
switch(t){case r:s=Ember.get(n,"companyName")
break
case c:s=n[t].get("name")
break
case m:s=Ember.get(n,"coreProfile")
break
default:s=null}return s},e.getContextEntityUrn=function(e,t){var n=e.get(b),s=null
if(!n||!t)return s
s=t===m?Ember.get(n,"coreProfile.miniProfile.entityUrn"):t===l?Ember.get(n,"update.urn"):Ember.get(n,t+".entityUrn")
return s},e.fetchContextualData=function(e,t,n,i){if(t&&n){var o,l=t
i&&"object"===(void 0===l?"undefined":a(l))&&(l.keyVersion=i)
var r=(s(o={q:l},t,n),s(o,"model",u),s(o,"path",d),o)
return e.query("common/generic-collection",r)}return Ember.RSVP.resolve()},e.normalizeSuggestionsResponse=function(e){return e.get("firstObject.elements").findBy("suggestedRecipients").get("suggestedRecipients")},e.fireRecommendationActionEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.trackingService,s=e.actionCategory,a=e.recommendationTrackingId,i=e.contextType,o=e.showRemainingSuggestions
n.fireTrackingPayload(g,{actionCategory:s,recommendationTrackingId:a,controlUrn:n.generateControlUrn("overlay.message_recommendation"),usecase:(0,t.normalizeUsecase)(i,o)})}
var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n.default.OVERLAY,o=i.CONTEXT_TYPES,l=o.FEED_CONTEXT,r=o.JOB_CONTEXT,c=o.COMPANY_CONTEXT,m=o.PROFILE_CONTEXT,u=i.CONTEXT_RECOMMENDATION_MODELS.RECOMMENDATION_LIST_TYPE,d=i.RECOMMENDATIONS_API.RECIPIENT_SUGGESTIONS_ENDPOINT,g=n.default.ACTION_KEYS.CONTEXTUAL_OPEN_ACTION,p="DISTANCE_2",h={"feed.update.index":l,"jobs.view.index":r,"companies.company.index":c,"profile.view.index.index":m},b="router.currentAnchorRoute.currentModel",v=b+".networkInfo.distance.value"})),define.alias("ember-mpr-images/utils/vector-url","msg-overlay/utils/vector-url")

//# sourceMappingURL=engine.map